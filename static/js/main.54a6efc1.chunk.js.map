{"version":3,"sources":["serviceWorker.js","history.js","store/actions/actionTypes.js","store/reducers/auth.js","store/reducers/icecreams.js","store/reducers/order.js","store/actions/auth.js","store/sagas/auth.js","axios/axios.js","store/sagas/icecreams.js","store/actions/icecreams.js","store/sagas/order.js","store/actions/order.js","store/sagas/index.js","assets/images/example-logo.png","assets/images/i-cart.svg","assets/images/i-user.svg","assets/images/i-orders-list.svg","assets/images/i-exit.svg","components/TopBar/TopBar.js","components/Layout/Layout.js","assets/images/plus-1.svg","assets/images/minus-1.svg","components/Boxes/SingleBox/SingleBox.js","components/UI/Loader/Loader.js","assets/images/prod1.jpg","assets/images/prod2.jpg","assets/images/prod3.jpg","components/Boxes/Boxes.js","components/Summary/SummaryItem/SummaryItem.js","components/Summary/Summary.js","hooks/useInputChanged.js","shared/utility.js","components/UI/Button/Button.js","components/UI/InputField/InputField.js","containers/CheckoutContainer/CheckoutContainer.js","containers/ProductsContainer/ProductsContainer.js","components/Thanks/Thanks.js","containers/AuthContainer/AuthContainer.js","components/Orders/OrderBox/OrderBox.js","containers/OrdersContainer/OrdersContainer.js","containers/AuthContainer/Logout/Logout.js","App.js","index.js"],"names":["Boolean","window","location","hostname","match","createBrowserHistory","ICECREAM_INIT","ICECREAM_ADD","ICECREAM_REMOVE","ICECREAM_SET","ICECREAM_FETCH_FAIL","SUMMARY_OPEN","SUMMARY_CLOSE","ORDER_POST","ORDER_POST_START","ORDER_POST_SUCCESS","ORDER_POST_FAIL","ORDER_GET","ORDER_GET_START","ORDER_GET_SUCCESS","ORDER_GET_FAIL","AUTH","AUTH_START","AUTH_SUCCESS","AUTH_FAIL","AUTH_INITIATE_LOGOUT","AUTH_LOGOUT","AUTH_CHECK_TIMEOUT","AUTH_CHECK_ON_START","initialState","token","userId","error","loading","reducer","state","action","type","actionType","id","icecreams","cart","totalPrice","fetchError","summaryType","addIcecream","addName","icecreamName","addSize","icecreamSize","addPrice","icecreamPrice","removeIcecream","removeName","removeSize","removePrice","setIcecream","icecreamsValues","Object","values","icecream","updatedCart","key","name","shortname","element","variation","singleElement","fetchFailIcecream","toggleSummary","closeSummary","postError","postLoading","getError","getLoading","userOrders","data","authSuccess","logout","checkAuthTimeout","time","logoutSaga","checkAuthTimeoutSaga","authSaga","checkAuthOnStartSaga","localStorage","removeItem","put","delay","actions","userData","email","password","pass","returnSecureToken","url","formType","axios","post","response","Date","getTime","expiresIn","expDate","setItem","idToken","localId","getItem","expiresDate","instance","create","baseURL","icecreamInitSaga","get","orderPostSaga","orderGetSaga","order","history","push","watchAuth","watchIcecreams","watchOrder","takeEvery","takeLatest","connect","ic","auth","dispatch","props","useState","cartElements","setCartElements","cartOption","setCartOption","currentPath","useLocation","pathname","useEffect","className","onClick","src","cartIcon","alt","to","finalValue","value","authUrl","logoutIcon","userIcon","appLogo","ordersIcon","Layout","isAuth","children","onIcecreamAdd","icName","icSize","icPrice","onIcecreamRemove","image","fullname","variations","map","price","toFixed","disabled","minusIcon","plusIcon","Loader","Boxes","prices","purchasable","icecreamsObject","getOwnPropertyNames","length","icKey","val","index","prod1","prod3","prod2","SummaryItem","size","pagePath","ctaButton","summaryClasses","isSomething","summaryItems","keys","shortName","itemCart","single","join","useInputChanged","formIsValid","setFormIsValid","inputChangedHandler","inputId","updatedForm","updatedFormElement","target","valid","rules","isValid","required","trim","regex","replace","test","String","toLowerCase","minLength","maxLength","checkValidity","validation","touched","formValidity","Button","types","classes","InputField","errorMessage","tipMessage","additionalClass","tip","message","inputType","elementConfig","changed","labelEl","inputEl","inputClasses","undefined","onChange","onOrderPost","withRouter","firstName","elementType","config","autoComplete","secondName","phoneNumber","address","city","postal","placeholder","checkoutForm","setCheckoutForm","errorWithPost","setErrorWithPost","scroll","top","left","behavior","formElements","options","onSubmit","event","preventDefault","inputs","selected","checkValidityOnSubmit","formData","formEl","date","input","newVal","inputHandler","onIcecreamInit","setPurchasable","isProductsPage","setIsProductsPage","updatePurchase","useCallback","exact","path","render","Thanks","onAuth","redirectAfterAuth","authForm","setAuthForm","isSignIn","setIsSignIn","form","newValue","showErrorMessage","OrderBox","orderDateObject","correctDay","getDate","slice","correctMonth","getMonth","orderDate","getFullYear","getHours","getMinutes","onOrderGet","orders","ordersObject","getOrders","item","sort","a","b","onLogout","checkAuth","component","AuthContainer","OrdersContainer","Logout","ProductsContainer","sagaMiddleware","createSagaMiddleware","mainReducer","combineReducers","authReducer","icecreamsReducer","orderReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","run","appIndex","StrictMode","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"oiBAYoBA,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,2CChBSC,gB,OCDFC,EAAgB,gBAChBC,EAAe,eACfC,EAAkB,kBAClBC,EAAe,eACfC,EAAsB,sBAEtBC,EAAe,eACfC,EAAgB,gBAGhBC,EAAa,aACbC,EAAmB,mBACnBC,EAAqB,qBACrBC,EAAkB,kBAElBC,EAAY,YACZC,EAAkB,kBAClBC,EAAoB,oBACpBC,EAAiB,iBAIjBC,EAAO,OACPC,EAAa,aACbC,EAAe,eACfC,EAAY,YACZC,EAAuB,uBACvBC,EAAc,cACdC,EAAqB,qBACrBC,EAAsB,sBC5B7BC,EAAe,CACnBC,MAAO,KACPC,OAAQ,KACRC,MAAO,KACPC,SAAS,GAuCIC,EApCC,WAAmC,IAAlCC,EAAiC,uDAAzBN,EAAcO,EAAW,uCAChD,OAAQA,EAAOC,MACb,KAAKC,EACH,OAAO,2BACFH,GADL,IAEEH,MAAO,KACPC,SAAS,IAGb,KAAKK,EACH,OAAO,2BACFH,GADL,IAEEH,MAAOI,EAAOJ,MACdC,SAAS,IAGb,KAAKK,EACH,OAAO,2BACFH,GADL,IAEEL,MAAOM,EAAON,MACdC,OAAQK,EAAOG,GACfP,MAAO,KACPC,SAAS,IAEb,KAAKK,EACH,OAAO,2BACFH,GADL,IAEEL,MAAO,KACPC,OAAQ,OAGZ,QACE,OAAOI,I,QCvCPN,EAAe,CACnBW,UAAW,GACXC,KAAM,GACNC,WAAY,EACZC,YAAY,EACZC,aAAa,GAGTC,EAAc,SAACV,EAAOC,GAC1B,IAAMU,EAAUV,EAAOW,aACjBC,EAAUZ,EAAOa,aACjBC,EAAWd,EAAOe,cAExB,OAAO,2BACFhB,GADL,IAEEM,KAAK,2BACAN,EAAMM,MADP,kBAEDK,EAFC,2BAGGX,EAAMM,KAAKK,IAHd,kBAICE,EAAUb,EAAMM,KAAKK,GAASE,GAAW,MAG9CN,WAAYP,EAAMO,WAAaQ,KAI7BE,EAAiB,SAACjB,EAAOC,GAC7B,IAAMiB,EAAajB,EAAOW,aACpBO,EAAalB,EAAOa,aACpBM,EAAcnB,EAAOe,cAE3B,OAAO,2BACFhB,GADL,IAEEM,KAAK,2BACAN,EAAMM,MADP,kBAEDY,EAFC,2BAGGlB,EAAMM,KAAKY,IAHd,kBAICC,EAAanB,EAAMM,KAAKY,GAAYC,GAAc,MAGvDZ,WAAYP,EAAMO,WAAaa,KAI7BC,EAAc,SAACrB,EAAOC,GAC1B,IAAMqB,EAAkBC,OAAOC,OAAOvB,EAAOwB,UACzCC,EAAc,GAElB,IAAK,IAAMC,KAAOL,EAAiB,CACjC,IAAMM,EAAON,EAAgBK,GAAKE,UAC5BC,EAAUR,EAAgBK,GAAKI,UAErC,IAAK,IAAMA,KAAaD,EAAS,CAC/B,IAAME,EAAgBF,EAAQC,GAE9BL,EAAYE,GAAZ,2BACKF,EAAYE,IADjB,kBAEGI,EAAc9B,KAAO,KAK5B,OAAO,2BACFF,GADL,IAEEK,UAAWJ,EAAOwB,SAClBnB,KAAMoB,EACNnB,WAAYb,EAAaa,WACzBC,YAAY,KAIVyB,EAAoB,SAACjC,EAAOC,GAChC,OAAO,2BACFD,GADL,IAEEK,UAAW,GACXC,KAAM,GACNC,WAAY,EACZC,YAAY,KAIV0B,EAAgB,SAAClC,EAAOC,GAC5B,OAAO,2BACFD,GADL,IAEES,aAAcT,EAAMS,eAIlB0B,EAAe,SAACnC,EAAOC,GAC3B,OAAO,2BACFD,GADL,IAEES,aAAa,KAuBFV,EAnBC,WAAmC,IAAlCC,EAAiC,uDAAzBN,EAAcO,EAAW,uCAChD,OAAQA,EAAOC,MACb,KAAKC,EACH,OAAOO,EAAYV,EAAOC,GAC5B,KAAKE,EACH,OAAOc,EAAejB,EAAOC,GAC/B,KAAKE,EACH,OAAOkB,EAAYrB,EAAOC,GAC5B,KAAKE,EACH,OAAO8B,EAAkBjC,GAC3B,KAAKG,EACH,OAAO+B,EAAclC,GACvB,KAAKG,EACH,OAAOgC,EAAanC,GACtB,QACE,OAAOA,IC9GPN,EAAe,CACnB0C,UAAW,KACXC,aAAa,EACbC,SAAU,KACVC,YAAY,EACZC,WAAY,IAgDCzC,EA7CC,WAAmC,IAAlCC,EAAiC,uDAAzBN,EAAcO,EAAW,uCAChD,OAAQA,EAAOC,MACb,KAAKC,EACH,OAAO,2BACFH,GADL,IAEEoC,UAAW,KACXC,aAAa,IAEjB,KAAKlC,EACH,OAAO,2BACFH,GADL,IAEEqC,aAAa,EACbD,UAAW,OAEf,KAAKjC,EACH,OAAO,2BACFH,GADL,IAEEqC,aAAa,EACbD,UAAWnC,EAAOJ,QAEtB,KAAKM,EACH,OAAO,2BACFH,GADL,IAEEsC,SAAU,KACVC,YAAY,IAEhB,KAAKpC,EACH,OAAO,2BACFH,GADL,IAEEsC,SAAU,KACVC,YAAY,EACZC,WAAYvC,EAAOwC,OAErB,KAAKtC,EACH,OAAO,2BACFH,GADL,IAEEsC,SAAUrC,EAAOJ,MACjB0C,YAAY,EACZC,WAAY9C,EAAa8C,aAE/B,QACE,OAAOxC,I,2CC3CA0C,GAAc,SAAC/C,EAAOS,GACjC,MAAO,CACLF,KAAMC,EACNR,MAAOA,EACPS,GAAIA,IAWKuC,GAAS,WACpB,MAAO,CACLzC,KAAMC,IAUGyC,GAAmB,SAACC,GAC/B,MAAO,CACL3C,KAAMC,EACN0C,KAAMA,I,YCjCOC,I,YAQAC,I,YAKAC,I,YA+BAC,IA5CV,SAAUH,KAAV,iEACL,OADK,SACCI,aAAaC,WAAW,SADzB,OAEL,OAFK,SAECD,aAAaC,WAAW,UAFzB,OAGL,OAHK,SAGCD,aAAaC,WAAW,eAHzB,OAKL,OALK,SAKCC,YDoBC,CACLlD,KAAMC,IC1BH,wCAQA,SAAU4C,GAAqB9C,GAA/B,iEACL,OADK,SACCoD,YAAoB,IAAdpD,EAAO4C,MADd,OAEL,OAFK,SAECO,YAAIE,MAFL,wCAKA,SAAUN,GAAS/C,GAAnB,6EACL,OADK,SACCmD,YDhBC,CACLlD,KAAMC,ICcH,OAiBc,OAdboD,EAAW,CACfC,MAAOvD,EAAOuD,MACdC,SAAUxD,EAAOyD,KACjBC,mBAAmB,GAGjBC,EACF,wGACE3D,EAAO4D,WACTD,EACE,qHAbC,kBAiBoBE,KAAMC,KAAKH,EAAKL,GAjBpC,OAkBa,OADVS,EAjBH,iBAkBmB,IAAIC,MAAK,IAAIA,MAAOC,UAAsC,IAA1BF,EAASvB,KAAK0B,WAlBjE,QAmBH,OADMC,EAlBH,iBAmBGlB,aAAamB,QAAQ,QAASL,EAASvB,KAAK6B,SAnB/C,QAoBH,OApBG,UAoBGpB,aAAamB,QAAQ,SAAUL,EAASvB,KAAK8B,SApBhD,QAqBH,OArBG,UAqBGrB,aAAamB,QAAQ,cAAeD,GArBvC,QAuBH,OAvBG,UAuBGhB,YAAIE,GAAoBU,EAASvB,KAAK6B,QAASN,EAASvB,KAAK8B,UAvBhE,QAwBH,OAxBG,UAwBGnB,YAAIE,GAAyBU,EAASvB,KAAK0B,YAxB9C,gCA2BH,OA3BG,oCA2BGf,aD7BevD,EC6BM,KAAMmE,SAASvB,KAAK5C,MD5B1C,CACLK,KAAMC,EACNN,MAAOA,KCDJ,kCDFiB,IAACA,ICElB,kBA+BA,SAAUoD,KAAV,2EACW,OADX,SACiBC,aAAasB,QAAQ,SADtC,UACG7E,EADH,uBAID,OAJC,SAIKyD,YAAIE,MAJT,8BAMmB,OANnB,UAMyB,IAAIW,KAAKf,aAAasB,QAAQ,gBANvD,QAOc,OADTC,EANL,iBAOoBvB,aAAasB,QAAQ,UAPzC,WAOK5E,EAPL,SASG6E,GAAe,IAAIR,MATtB,iBAUC,OAVD,UAUOb,YAAIE,MAVX,gCAYC,OAZD,UAYOF,YAAIE,GAAoB3D,EAAOC,IAZtC,QAaC,OAbD,UAaOwD,YAAIE,IAA2BmB,EAAYP,WAAY,IAAID,MAAOC,WAAa,MAbtF,yCC/CP,IAIeQ,GAJGZ,KAAMa,OAAO,CAC7BC,QAAS,4C,YCEMC,IAAV,SAAUA,GAAiB5E,GAA3B,uEAEc,OAFd,kBAEoB6D,GAAMgB,IAAN,8BAAiC7E,EAAON,QAF5D,OAGH,OADMqE,EAFH,gBAGGZ,aCYkB3B,EDZMuC,EAASvB,KCalC,CACLvC,KAAMC,EACNsB,SAAUA,KDlBP,8BAMH,OANG,mCAMG2B,YCiBD,CACLlD,KAAMC,IDxBH,kCCeoB,IAACsB,IDfrB,iB,gBECUsD,I,YAcAC,IAdV,SAAUD,GAAc9E,GAAxB,iEAEL,OAFK,SAECmD,YCJC,CACLlD,KAAMC,IDCH,OAKH,OALG,kBAKG2D,GAAMC,KAAN,4BAAgC9D,EAAON,OAASM,EAAOgF,OAL1D,OAMH,OANG,SAMG7B,YCFD,CACLlD,KAAMC,IDLH,OAOH+E,EAAQC,KAAK,cAPV,wBAUH,OAVG,oCAUG/B,aCDoBvD,EDCM,KAAMmE,SCAjC,CACL9D,KAAMC,EACNN,MAAOA,KDZJ,kCCSsB,IAACA,IDTvB,kBAcA,SAAUmF,GAAa/E,GAAvB,uEACL,OADK,SACCmD,YCWC,CACLlD,KAAMC,IDbH,OAIc,OAJd,kBAIoB2D,GAAMgB,IAAN,4BAA+B7E,EAAON,MAAtC,sCAAyEM,EAAOL,OAAhF,MAJpB,OAKH,OADMoE,EAJH,gBAKGZ,aCYsBX,EDZMuB,EAASvB,KCatC,CACLvC,KAAMC,EACNsC,KAAMA,KDpBH,+BAQH,OARG,oCAQGW,aCgBmBvD,EDhBM,KAAMmE,SCiBhC,CACL9D,KAAMC,EACNN,MAAOA,KD3BJ,kCCwBqB,IAACA,EAPG4C,IDjBzB,kB,gBENU2C,I,YAOAC,I,YAIAC,IAXV,SAAUF,KAAV,iEACL,OADK,SACCG,YAAUpF,EAA+B4C,IAD1C,OAEL,OAFK,SAECwC,YAAUpF,EAAiC2C,IAF5C,OAGL,OAHK,SAGCyC,YAAUpF,EAAiB6C,IAH5B,OAIL,OAJK,SAICuC,YAAUpF,EAAgC8C,IAJ3C,wCAOA,SAAUoC,KAAV,iEACL,OADK,SACCE,YAAUpF,EAA0B0E,IADrC,wCAIA,SAAUS,KAAV,iEACL,OADK,SACCE,YAAWrF,EAAuB4E,IADnC,OAEL,OAFK,SAECQ,YAAUpF,EAAsB6E,IAFjC,wC,sBCzBQ,I,MAAA,IAA0B,0CCA1B,OAA0B,mCCA1B,OAA0B,mCCA1B,OAA0B,0CCA1B,OAA0B,mCC4G1BS,gBAdS,SAAAzF,GACtB,MAAO,CACLS,YAAaT,EAAM0F,GAAGjF,YACtBd,MAAOK,EAAM2F,KAAKhG,MAClBW,KAAMN,EAAM0F,GAAGpF,SAIQ,SAAAsF,GACzB,MAAO,CACL1D,cAAe,kBAAM0D,ET/DhB,CACL1F,KAAMC,EACNM,YAAaA,IAHY,IAACA,MSoEfgF,EA9FA,SAAAI,GAAU,IAAD,EACkBC,mBAAS,GAD3B,oBACfC,EADe,KACDC,EADC,OAEcF,mBAAS,MAFvB,oBAEfG,EAFe,KAEHC,EAFG,KAGhBC,EAAcC,cAAcC,SAC1B/F,EAA+BuF,EAA/BvF,KAAMX,EAAyBkG,EAAzBlG,MAAOuC,EAAkB2D,EAAlB3D,cAErBoE,qBAAU,WAENJ,EADkB,MAAhBC,GAAuC,cAAhBA,EAEvB,sBACEI,UAAU,4BACVC,QAAStE,EAFX,UAIE,qBAAKuE,IAAKC,GAAUC,IAAI,SACtBZ,EAAe,GAAK,sBAAMQ,UAAU,wBAAhB,SAA0CR,OAKlE,qBAAKQ,UAAU,4BAAf,SACE,cAAC,KAAD,CAAMK,GAAG,IAAT,SACE,qBAAKH,IAAKC,GAAUC,IAAI,oBAM/B,CAACR,EAAaD,EAAeH,EAAc7D,IAE9CoE,qBAAU,WACR,IAAIO,EAAa,EAEjB,IAAK,IAAMlF,KAAOrB,EAAM,CACtB,IAAMwB,EAAUxB,EAAKqB,GAErB,IAAK,IAAMmF,KAASxG,EAAKqB,GAAM,CAE7BkF,GADiB/E,EAAQgF,GAG3Bd,EAAgBa,MAEjB,CAACvG,IAEJ,IAAIyG,EAAWpH,EAKb,cAAC,KAAD,CAAMiH,GAAG,UAAT,SACE,qBAAKH,IAAKO,GAAYL,IAAI,aAL5B,cAAC,KAAD,CAAMC,GAAG,QAAT,SACE,qBAAKH,IAAKQ,GAAUN,IAAI,YAQ5B,OACE,wBAAQJ,UAAU,SAAlB,SACE,qBAAKA,UAAU,gBAAf,SACE,sBAAKA,UAAU,eAAf,UACE,cAAC,KAAD,CAAMK,GAAG,IAAIL,UAAU,eAAvB,SACE,qBAAKE,IAAKS,GAASP,IAAI,WAEzB,sBAAKJ,UAAU,gBAAf,UACE,qBAAKA,UAAU,4BAAf,SAA4CQ,IAC3CpH,GACC,qBAAK4G,UAAU,4BAAf,SACE,cAAC,KAAD,CAAMK,GAAG,UAAT,SACE,qBAAKH,IAAKU,GAAYR,IAAI,eAK9BV,eCpECmB,GAbA,SAAAvB,GAEb,OACE,eAAC,WAAD,WACqB,OAAjBA,EAAMwB,OAAkB,cAAC,GAAD,IAAa,GAEvC,sBAAMd,UAAU,OAAhB,SACGV,EAAMyB,eCVA,I,MAAA,IAA0B,oCCA1B,OAA0B,oCC0E1B7B,eAAQ,MATI,SAAAG,GACzB,MAAO,CACL2B,cAAe,SAACC,EAAQC,EAAQC,GAAjB,OACb9B,EblEqB,SAAC4B,EAAQC,EAAQC,GAC1C,MAAO,CACLxH,KAAMC,EACNS,aAAc4G,EACd1G,aAAc2G,EACdzG,cAAe0G,Ga6DJzH,CAAmBuH,EAAQC,EAAQC,KAC9CC,iBAAkB,SAACH,EAAQC,EAAQC,GAAjB,OAChB9B,Eb3DwB,SAAC4B,EAAQC,EAAQC,GAC7C,MAAO,CACLxH,KAAMC,EACNS,aAAc4G,EACd1G,aAAc2G,EACdzG,cAAe0G,GasDJzH,CAAsBuH,EAAQC,EAAQC,QAItCjC,EAjEG,SAAAI,GAAU,IAClB+B,EAAkF/B,EAAlF+B,MAAOC,EAA2EhC,EAA3EgC,SAAUhG,EAAiEgE,EAAjEhE,UAAWvB,EAAsDuF,EAAtDvF,KAAMwH,EAAgDjC,EAAhDiC,WAAYH,EAAoC9B,EAApC8B,iBAAkBJ,EAAkB1B,EAAlB0B,cAExE,OACE,sBAAKhB,UAAU,QAAf,UACE,qBAAKA,UAAU,eAAf,SACE,qBAAKE,IAAKmB,EAAOjB,IAAI,mBAEvB,sBAAKJ,UAAU,iBAAf,UACE,mBAAGA,UAAU,cAAb,SAA4BsB,IAE1BC,EAAWC,KAAI,SAAAhG,GAAc,IACnB7B,EAAe6B,EAAf7B,KAAM8H,EAASjG,EAATiG,MAEd,OACE,sBAAKzB,UAAU,cAAf,UACE,sBAAKA,UAAU,aAAf,UACE,oBAAGA,UAAU,cAAb,mBAAiC,iCAASrG,OAC1C,oBAAGqG,UAAU,eAAb,UAA6ByB,EAAMC,QAAQ,GAA3C,WAEF,sBAAK1B,UAAU,iCAAf,UACE,wBACEC,QAAS,kBACPmB,EACE9F,EACA3B,EACA8H,IAGJE,SAAU5H,EAAKJ,IAAS,EACxBqG,UAAU,aATZ,SAWE,qBAAKE,IAAK0B,GAAWxB,IAAI,gBAE3B,wBACEH,QAAS,kBACPe,EACE1F,EACA3B,EACA8H,IAGJzB,UAAU,aARZ,SAUE,qBAAKE,IAAK2B,GAAUzB,IAAI,qBA7BIzG,e,MCJjCmI,OAjBf,WACE,OACE,qBAAK9B,UAAU,SAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,8BCdO,OAA0B,kCCA1B,OAA0B,kCCA1B,OAA0B,kCCsD1B+B,I,MA1CD,SAAAzC,GAAU,IACd0C,EAA0C1C,EAA1C0C,OAAQjI,EAAkCuF,EAAlCvF,KAAMkI,EAA4B3C,EAA5B2C,YAAahI,EAAeqF,EAAfrF,WAE7BiI,EAAkBlH,OAAOmH,oBAAoB7C,EAAMxF,WACrDoB,EAAW,cAAC,GAAD,IAEXgH,EAAgBE,QAAU,IAK5BlH,EAJkBF,OAAOC,OAAOqE,EAAMxF,WAAW0H,KAAI,SAACa,GACpD,OAAOA,KAGYb,KAAI,SAACc,EAAKC,GAC7B,OACE,cAAC,GAAD,CAEEP,OAAQA,EACRV,SAAUgB,EAAIhB,SACdhG,UAAWgH,EAAIhH,UACfiG,WAAYe,EAAI9G,UAChBzB,KAAMA,EAAKuI,EAAIhH,WACf+F,MAAOkB,EAAQ,EAAIC,GAAQD,EAAQ,EAAIE,GAAQC,IAN1CJ,EAAIhH,eAgBjB,OAJ+B,IAA3B4G,EAAgBE,QAAgBnI,IAClCiB,EAAW,mBAAG8E,UAAU,iBAAb,yCAIX,sBAAKA,UAAU,UAAf,UACE,qBAAKA,UAAU,gBAAf,SAAgC9E,IAChC,qBAAK8E,UAAU,gBAAf,SACIiC,GACA,cAAC,KAAD,CAAM5B,GAAG,YAAYL,UAAU,eAA/B,6BCxBK2C,I,MApBK,SAAArD,GAAU,IACrBjE,EAA4BiE,EAA5BjE,KAAMuH,EAAsBtD,EAAtBsD,KAAMrC,EAAgBjB,EAAhBiB,MAAOkB,EAASnC,EAATmC,MAE1B,OACE,qBAAIzB,UAAU,eAAd,UACE,oBAAGA,UAAU,qBAAb,UACE,iCAAU3E,IAAgBuH,KAE5B,uBAAM5C,UAAU,qBAAhB,UACE,oBAAGA,UAAU,sBAAb,UACGO,EADH,MACakB,EAAMC,QAAQ,GAD3B,QAGA,oBAAG1B,UAAU,sBAAb,WACIO,EAAQkB,GAAOC,QAAQ,GAD3B,gBC0EOxC,I,MAAAA,aATS,SAAAzF,GACtB,MAAO,CACLK,UAAWL,EAAM0F,GAAGrF,UACpBC,KAAMN,EAAM0F,GAAGpF,KACfC,WAAYP,EAAM0F,GAAGnF,WACrBE,YAAaT,EAAM0F,GAAGjF,eAIc,KAAzBgF,EAlFC,SAAAI,GAAU,IAChBvF,EAAoEuF,EAApEvF,KAAMD,EAA8DwF,EAA9DxF,UAAWI,EAAmDoF,EAAnDpF,YAAa2I,EAAsCvD,EAAtCuD,SAAUZ,EAA4B3C,EAA5B2C,YAAajI,EAAesF,EAAftF,WACzDgI,EAAS,GACTc,EAAY,KACZC,EAAiB,CAAC,YAEF,IAAhB7I,GACF6I,EAAenE,KAAK,mBAGtB,IAAMoE,EACJ,qBAAKhD,UAAU,gBAAf,SACE,qDAKF8C,EADED,EACU,cAAC,KAAD,CAAMxC,GAAG,YAAYL,UAAU,eAA/B,sBAEA,cAAC,KAAD,CAAMK,GAAG,IAAIL,UAAU,eAAvB,2BAGd,IAAMiD,EAAejI,OAAOkI,KAAKnJ,GAAMyH,KAAI,SAAApG,GACzC,IAAM+D,EAAKrF,EAAUsB,GAAKI,UACpBH,EAAOvB,EAAUsB,GAAKkG,SACtB6B,EAAYrJ,EAAUsB,GAAKE,UAC3B8H,EAAWrJ,EAAKqB,GAGtB,IAAK,IAAMiI,KAAUlE,EAAI,CACvB,IAAM5D,EAAU4D,EAAGkE,GACnBrB,EAAOmB,GAAP,2BACKnB,EAAOmB,IADZ,kBAEG5H,EAAQ5B,KAAO4B,EAAQkG,QAI5B,OAAOzG,OAAOkI,KAAKE,GAAU5B,KAAI,SAACoB,GAChC,IAAMnB,EAAQO,EAAOmB,GAAWP,GAC1BrC,EAAQ6C,EAASR,GAEvB,OAAc,IAAVrC,GACK,cAAC,GAAD,CAAoClF,KAAMA,EAAM8H,UAAWA,EAAWP,KAAMA,EAAMzD,GAAIrF,EAAW2H,MAAOA,EAAOlB,MAAOA,GAApG4C,EAAYP,SAO3C,OACE,sBAAK5C,UAAW+C,EAAeO,KAAK,KAApC,UACE,oBAAItD,UAAU,iBAAd,yBAEEiC,GAAee,EAEjB,oBAAIhD,UAAU,gBAAd,SAA+BiD,IAE9BhB,GACC,sBAAKjC,UAAU,kBAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,mBAAGA,UAAU,qBAAb,sBACA,oBAAGA,UAAU,+CAAb,UAA6DhG,EAAW0H,QAAQ,GAAhF,WAGF,qBAAK1B,UAAU,oBAAf,SACI8C,cCjCCS,GApCS,WAAO,IAAD,EACUhE,oBAAS,GADnB,oBACrBiE,EADqB,KACRC,EADQ,KA8B5B,MAAO,CACLD,YAAaA,EACbE,oBA7B0B,SAACxH,EAAMX,EAASoI,GAC1C,IAAMC,EAAW,eACZ1H,GAEC2H,EAAkB,eACnBD,EAAYD,IAGjBE,EAAmBtD,MAAQhF,EAAQuI,OAAOvD,MAC1CsD,EAAmBE,MCfM,SAACxD,EAAOyD,GACnC,IAAIC,GAAU,EAgCd,OA1BID,EAAME,WACRD,EAA2B,KAAjB1D,EAAM4D,QAAiBF,GAGf,WAAhBD,EAAMI,QACRH,EAAU1D,EAAM7I,MAVE,iBAUoBuM,GAGpB,QAAhBD,EAAMI,QACR7D,EAAM8D,QAAQ,MAAO,IAErBJ,EAAU1D,EAAM7I,MAdD,6DAcoBuM,GAGjB,UAAhBD,EAAMI,QACRH,EAjBiB,wJAiBIK,KAAKC,OAAOhE,GAAOiE,gBAGtCR,EAAMS,YACRR,EAAU1D,EAAM6B,QAAU4B,EAAMS,WAAaR,GAG3CD,EAAMU,YACRT,EAAU1D,EAAM6B,SAAW4B,EAAMU,WAAaT,GAGzCA,EDlBsBU,CACzBd,EAAmBtD,MACnBsD,EAAmBe,YAErBf,EAAmBgB,SAAU,EAC7BjB,EAAYD,GAAWE,EAEvB,IAAIiB,GAAe,EAEnB,IAAK,IAAMnB,KAAWC,EACpBkB,EAAelB,EAAYD,GAASI,OAASe,EAK/C,OAFArB,EAAeqB,GAERlB,KEVImB,I,MAjBA,SAACzF,GAAW,IAClBjE,EAA0BiE,EAA1BjE,KAAMsG,EAAoBrC,EAApBqC,SAAUqD,EAAU1F,EAAV0F,MACjBC,EAAU,CAAC,eAMjB,OAJID,GACFA,EAAMxD,KAAI,SAAA6B,GAAM,OAAI4B,EAAQrG,KAAR,uBAA6ByE,OAIjD,qBAAKrD,UAAU,SAAf,SACE,wBAAQA,UAAWiF,EAAQ3B,KAAK,KAAM3J,KAAK,SAASgI,SAAUA,EAA9D,SACGtG,QC6DM6J,I,MAxEI,SAAC5F,GAAW,IAGzB6F,EACAC,EAHIC,EAAqG/F,EAArG+F,gBAAiBtB,EAAoFzE,EAApFyE,MAAOc,EAA6EvF,EAA7EuF,QAASS,EAAoEhG,EAApEgG,IAAKC,EAA+DjG,EAA/DiG,QAASC,EAAsDlG,EAAtDkG,UAAWC,EAA2CnG,EAA3CmG,cAAelF,EAA4BjB,EAA5BiB,MAAOmF,EAAqBpG,EAArBoG,QAASC,EAAYrG,EAAZqG,QAC7FC,EAAU,KAGRC,EAAe,CAAC,eAetB,OAbIR,GACFQ,EAAajH,KAAKyG,GAGhBtB,GAASc,IACXgB,EAAajH,KAAK,WAClBuG,EAAe,+BAAOI,UAGZO,IAARR,GAAqBvB,GAASc,IAChCO,EAAa,sBAAMpF,UAAU,YAAhB,SAA6BsF,KAGpCE,GACN,IAAK,QAWL,IAAK,QAWL,IAAK,WACHI,EACE,+CACE5F,UAAU,sBACNyF,GAFN,IAGElF,MAAOA,EACPwF,SAAUL,KAGhB,MAEA,IAAK,WACHE,EAAU,wCAAcH,IAO5B,OACE,sBAAKzF,UAAW6F,EAAavC,KAAK,KAAlC,UACE,uBAAOtD,UAAU,qBAAjB,SAAuC2F,IACtCC,EACAT,EACAC,OCwMQlG,I,MAAAA,aAjBS,SAAAzF,GACtB,MAAO,CACLM,KAAMN,EAAM0F,GAAGpF,KACf0H,MAAOhI,EAAM0F,GAAGnF,WAChBZ,MAAOK,EAAM2F,KAAKhG,MAClBC,OAAQI,EAAM2F,KAAK/F,OACnBwC,UAAWpC,EAAMiF,MAAM7C,cAIA,SAAAwD,GACzB,MAAO,CACL2G,YAAa,SAACtH,EAAOtF,GAAR,OACXiG,EvBpPmB,SAACX,EAAOtF,GAC/B,MAAO,CACLO,KAAMC,EACN8E,MAAOA,EACPtF,MAAOA,GuBgPIM,CAAiBgF,EAAOtF,QAIxB8F,CAA6C+G,aA/PlC,SAAA3G,GACxB,IA+HQvF,EAAiDuF,EAAjDvF,KAAMX,EAA2CkG,EAA3ClG,MAAOuF,EAAoCW,EAApCX,QAAS9C,EAA2ByD,EAA3BzD,UAAWmK,EAAgB1G,EAAhB0G,YAhIR,EAkIOzG,mBAjIX,CAC3B2G,UAAW,CACTC,YAAa,QACbR,QAAS,aACTN,gBAAiB,oBACjBe,OAAQ,CACNzM,KAAM,OACN0M,aAAc,aACdhL,KAAM,cAERkF,MAAO,GACPqE,WAAY,CACVV,UAAU,EACVqB,QAAS,qBAEXxB,OAAO,EACPc,SAAS,GAEXyB,WAAY,CACVH,YAAa,QACbR,QAAS,cACTN,gBAAiB,oBACjBe,OAAQ,CACNzM,KAAM,OACN0M,aAAc,cACdhL,KAAM,eAERkF,MAAO,GACPqE,WAAY,CACVV,UAAU,EACVqB,QAAS,sBAEXxB,OAAO,EACPc,SAAS,GAEX0B,YAAa,CACXJ,YAAa,QACbR,QAAS,eACTN,gBAAiB,oBACjBe,OAAQ,CACNzM,KAAM,MACN0M,aAAc,MACdhL,KAAM,OAERkF,MAAO,GACPqE,WAAY,CACVV,UAAU,EACVE,MAAO,MACPmB,QAAS,+BAEXxB,OAAO,EACPc,SAAS,GAEX5H,MAAO,CACLkJ,YAAa,QACbR,QAAS,SACTN,gBAAiB,oBACjBe,OAAQ,CACNzM,KAAM,QACN0M,aAAc,QACdhL,KAAM,SAERkF,MAAO,GACPqE,WAAY,CACVV,UAAU,EACVE,MAAO,QACPmB,QAAS,iCAEXxB,OAAO,EACPc,SAAS,GAEX2B,QAAS,CACPL,YAAa,QACbR,QAAS,mBACTN,gBAAiB,oBACjBe,OAAQ,CACNzM,KAAM,OACN0M,aAAc,iBACdhL,KAAM,kBAERkF,MAAO,GACPqE,WAAY,CACVV,UAAU,EACVqB,QAAS,2BAEXxB,OAAO,EACPc,SAAS,GAEX4B,KAAM,CACJN,YAAa,QACbR,QAAS,OACTN,gBAAiB,oBACjBe,OAAQ,CACNzM,KAAM,OACN0M,aAAc,iBACdhL,KAAM,kBAERkF,MAAO,GACPqE,WAAY,CACVV,UAAU,EACVqB,QAAS,eAEXxB,OAAO,EACPc,SAAS,GAEX6B,OAAQ,CACNP,YAAa,QACbR,QAAS,cACTN,gBAAiB,oBACjBe,OAAQ,CACNzM,KAAM,OACN0M,aAAc,cACdhL,KAAM,cACNsL,YAAa,UAEfpG,MAAO,GACPqE,WAAY,CACVV,UAAU,EACVE,MAAO,SACPM,UAAW,EACXa,QAAS,qBACTD,IAAK,mBAEPvB,OAAO,EACPc,SAAS,KA7HoB,oBAkI1B+B,EAlI0B,KAkIZC,EAlIY,OAmIStH,mBAAS,MAnIlB,oBAmI1BuH,EAnI0B,KAmIXC,EAnIW,OAoIYxD,KAArCC,EApIyB,EAoIzBA,YAAaE,EApIY,EAoIZA,oBAErB3D,qBAAU,WACRxI,OAAOyP,OAAO,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,WAEM,IAA5CnM,OAAOmH,oBAAoBpI,GAAMqI,QAA0B,OAAVhJ,GACpDuF,EAAQC,KAAK,OAEd,CAAC7E,EAAMX,EAAOuF,IAEjBoB,qBAAU,WACJyD,GAA6B,OAAd3H,IACjBkL,EAAiB,mBAAG/G,UAAU,4BAAb,yCACjBzI,OAAOyP,OAAO,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,cAE5C,CAAC3D,EAAa3H,IAEjB,IAmDMuL,EAAe,GACrB,IAAK,IAAMhM,KAAOwL,EAChBQ,EAAaxI,KAAK,CAChB/E,GAAIuB,EACJiM,QAAST,EAAaxL,KAI1B,OACE,sBAAK4E,UAAU,qBAAf,UACI8G,EAEF,uBACE9G,UAAU,2BACVsH,SAzCoB,SAACC,GACzBA,EAAMC,iBAnBsB,WAC5B,IAAMC,EAAM,eACPb,GAGL,IAAK,IAAMvD,KAAUoE,EAAQ,CAC3B,IAAMC,EAAWD,EAAOpE,GAEpBqE,EAAS9C,WAAWV,WAAawD,EAAS7C,UAC5C6C,EAAS7C,SAAU,GAGrB4C,EAAOpE,GAAUqE,EAGnBb,EAAgBY,GAMhBE,GAEA,IAAMvO,EAAQkG,EAAMlG,MAChBwO,EAAW,GAEf,IAAK,IAAMC,KAAUjB,EACnBgB,EAASC,GAAUjB,EAAaiB,GAAQtH,MAG1C,IAAM7B,EAAQ,CACZkJ,SAAUA,EACV7N,KAAMuF,EAAMvF,KACZ0H,MAAOnC,EAAMmC,MACbqG,KAAM,IAAIpK,KACVrE,OAAQiG,EAAMjG,QAGZmK,EACFwC,EAAYtH,EAAOtF,GAEnB7B,OAAOyP,OAAO,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,YAgB3C,UAKGC,EAAa5F,KAAI,SAACuG,GAAD,OAChB,cAAC,GAAD,CAEEvC,UAAWuC,EAAMV,QAAQlB,YACzBR,QAASoC,EAAMV,QAAQ1B,QACvBF,cAAesC,EAAMV,QAAQjB,OAC7Bf,gBAAiB0C,EAAMV,QAAQhC,gBAC/B9E,MAAOwH,EAAMV,QAAQ9G,MACrBwD,OAAQgE,EAAMV,QAAQtD,MACtBc,QAASkD,EAAMV,QAAQxC,QACvBU,QAASwC,EAAMV,QAAQzC,WAAWW,QAClCD,IAAKyC,EAAMV,QAAQzC,WAAWU,IAC9BI,QAAS,SAAC6B,GAAD,OAhFE,SAACA,EAAO5D,GAC3B,IAAMqE,EAAStE,EAAoBkD,EAAcW,EAAO5D,GAExDkD,EAAgBmB,GA6EYC,CAAaV,EAAOQ,EAAMlO,MAVzCkO,EAAMlO,OAaf,cAAC,GAAD,CAAQwB,KAAK,aAAa2J,MAAO,CAAC,QAAS,qBCzIpC9F,I,MAAAA,aAjBS,SAAAzF,GACtB,MAAO,CACLK,UAAWL,EAAM0F,GAAGrF,UACpBC,KAAMN,EAAM0F,GAAGpF,KACfX,MAAOK,EAAM2F,KAAKhG,MAClB4I,OAAQvI,EAAM0F,GAAG6C,OACjB/H,WAAYR,EAAM0F,GAAGlF,eAIE,SAAAoF,GACzB,MAAO,CACL6I,eAAgB,SAAC9O,GAAD,OAAWiG,E1BxEH,SAACjG,GAC3B,MAAO,CACLO,KAAMC,EACNR,MAAOA,G0BqE6BM,CAAoBN,KACxDwC,aAAc,kBAAMyD,E1B1Df,CACL1F,KAAMC,Q0B6DKsF,EAnGW,SAAAI,GAAU,IAAD,EACKC,oBAAS,GADd,oBAC1B0C,EAD0B,KACbkG,EADa,OAEW5I,oBAAS,GAFpB,oBAE1B6I,EAF0B,KAEVC,EAFU,KAG1BtO,EAAsDuF,EAAtDvF,KAAMX,EAAgDkG,EAAhDlG,MAAOuF,EAAyCW,EAAzCX,QAASuJ,EAAgC5I,EAAhC4I,eAAgBtM,EAAgB0D,EAAhB1D,aAGvC0M,EAAiBC,uBAAY,WACjC,IAAIjI,EAAa,EAEjB,IAAK,IAAMlF,KAAOrB,EAAM,CACtB,IAAMwB,EAAUxB,EAAKqB,GAErB,IAAK,IAAMmF,KAASxG,EAAKqB,GAAM,CAE7BkF,GADiB/E,EAAQgF,IAK7B4H,EAAe7H,EAAa,KAC3B,CAACvG,IAwBJ,OAtBAgG,qBAAU,WACJ3G,GACF8O,EAAe9O,GAGH,OAAVA,GACFuF,EAAQC,KAAK,WAEd,CAACxF,EAAO8O,EAAgBvJ,IAE3BoB,qBAAU,WACNuI,MACD,CAACA,IAEJvI,qBAAU,WACRnE,MACC,CAAC+C,EAAQnH,SAASsI,SAAUlE,IAE/BmE,qBAAU,WACsB,MAA9BpB,EAAQnH,SAASsI,SAAmBuI,GAAkB,GAAQA,GAAkB,KAC/E,CAAC1J,EAAQnH,SAASsI,WAGjB,cAAC,WAAD,UACE,qBAAKE,UAAU,WAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,qBAAKA,UAAU,mBACf,qBAAKA,UAAU,oBAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CACEwI,OAAK,EACLC,KAAK,IACLC,OAAQ,kBACN,cAAC,GAAD,CACEzG,YAAaA,EACbnI,UAAWwF,EAAMxF,UACjBC,KAAMuF,EAAMvF,KACZiI,OAAQ1C,EAAM0C,OACd/H,WAAYqF,EAAMrF,gBAIxB,cAAC,IAAD,CACEwO,KAAK,YACLC,OAAQ,kBACN,cAAC,GAAD,CACEzG,YAAaA,YAMvB,qBAAKjC,UAAU,oBAAf,SACE,cAAC,GAAD,CAASiC,YAAaA,EAAaY,SAAUuF,iBCnE5CO,I,MAbA,SAAArJ,GACb,OACE,sBAAKU,UAAU,SAAf,UACE,oBAAIA,UAAU,mBAAd,kCACA,mBAAGA,UAAU,eAAb,4DAEA,qBAAKA,UAAU,eAAf,SACE,cAAC,KAAD,CAAMK,GAAG,IAAIL,UAAU,cAAvB,mCCiJOd,I,MAAAA,aAbS,SAAAzF,GACtB,MAAO,CACLF,QAASE,EAAM2F,KAAK7F,QACpBD,MAAOG,EAAM2F,KAAK9F,MAClBwH,OAA6B,OAArBrH,EAAM2F,KAAKhG,UAGI,SAACiG,GAC1B,MAAO,CACLuJ,OAAQ,SAAC3L,EAAOE,EAAMxD,GAAd,OAAuB0F,EhC/Gf,SAACpC,EAAOE,EAAMG,GAChC,MAAO,CACL3D,KAAMC,EACNqD,MAAOA,EACPE,KAAMA,EACNG,SAAUA,GgC0G8B5D,CAAYuD,EAAOE,EAAMxD,QAItDuF,EAhJO,SAAAI,GAEpB,IAgEIuJ,EAlEyB,EAqCGtJ,mBAnCP,CACvBtC,MAAO,CACLkJ,YAAa,QACbR,QAAS,SACTN,gBAAiB,GACjBe,OAAQ,CACNzM,KAAM,QACN0B,KAAM,SAERkF,MAAO,GACPqE,WAAY,CACVV,UAAU,EACVE,MAAO,SAETL,OAAO,EACPc,SAAS,GAEX3H,SAAU,CACRiJ,YAAa,WACbR,QAAS,WACTN,gBAAiB,GACjBe,OAAQ,CACNzM,KAAM,WACN0B,KAAM,YAERkF,MAAO,GACPqE,WAAY,CACVV,UAAU,EACVO,UAAW,GAEbV,OAAO,EACPc,SAAS,KAjCgB,oBAqCtBiE,EArCsB,KAqCZC,EArCY,OAsCGxJ,oBAAS,GAtCZ,oBAsCtByJ,EAtCsB,KAsCZC,EAtCY,OAwCgB1F,KAArCC,EAxCqB,EAwCrBA,YAAaE,EAxCQ,EAwCRA,oBAuBjBpG,EAAW0L,EAAW,SAAW,UACjC5B,EAAe,GACfjC,EAAe,KAGnB,IAAK,IAAM/J,KAAO0N,EAChB1B,EAAaxI,KAAK,CAChB/E,GAAIuB,EACJiM,QAASyB,EAAS1N,KAItB,IAAI8N,EAAO9B,EAAa5F,KAAI,SAACuG,GAAD,OAC1B,cAAC,GAAD,CAEEvC,UAAWuC,EAAMV,QAAQlB,YACzBR,QAASoC,EAAMV,QAAQ1B,QACvBF,cAAesC,EAAMV,QAAQjB,OAC7Bf,gBAAiB0C,EAAMV,QAAQhC,gBAC/B9E,MAAOwH,EAAMV,QAAQ9G,MACrBwD,OAAQgE,EAAMV,QAAQtD,MACtBc,QAASkD,EAAMV,QAAQxC,QACvBU,QAASwC,EAAMV,QAAQzC,WAAWW,QAClCD,IAAKyC,EAAMV,QAAQzC,WAAWU,IAC9BI,QAAS,SAAC6B,GAAD,OAxCQ,SAACA,EAAO5D,GAC3B,IAAMwF,EAAWzF,EAAoBoF,EAAUvB,EAAO5D,GAEtDoF,EAAYI,GAqCUlB,CAAaV,EAAOQ,EAAMlO,MAVzCkO,EAAMlO,OA0Bf,OAZIyF,EAAM/F,UACR2P,EAAO,cAAC,GAAD,KAGL5J,EAAMhG,QACR6L,ENzE4B,SAAA7L,GAC9B,OAAQA,GACN,IAAK,eACH,MAAM,yDACR,IAAK,kBACH,MAAO,2DACT,IAAK,gBACH,MAAO,yDACT,IAAK,mBACH,MAAO,0BACT,IAAK,8BACH,MAAO,yFACT,QACE,OAAOA,GM4DM8P,CAAiB9J,EAAMhG,MAAMiM,UAG1CjG,EAAMwB,SACR+H,EAAoB,cAAC,IAAD,CAAUxI,GAAG,OAIjC,sBAAKL,UAAU,OAAf,UACG6I,EAED,qBAAK7I,UAAU,eAAf,SACE,qBAAKE,IAAMS,GAAUP,IAAI,WAG3B,sBAAKJ,UAAU,cAAf,UACE,oBAAIA,UAAU,cAAd,SAA6B1C,IAC5B6H,GAAgB,mBAAGnF,UAAU,gBAAb,SAA8BmF,IAE/C,uBAAMnF,UAAU,aAAasH,SA9DT,SAACC,GACzBA,EAAMC,iBAENlI,EAAMsJ,OACJE,EAAS7L,MAAMsD,MACfuI,EAAS5L,SAASqD,MAClByI,IAwDE,UACGE,GACE5J,EAAM/F,SAAW,cAAC,GAAD,CAAQ8B,KAAK,UAAUsG,UAAW6B,UAI1D,qBAAKxD,UAAU,eAAf,SACE,uBAAMA,UAAU,eAAeC,QAhFd,SAACsH,GACtBA,EAAMC,iBACNyB,GAAaD,IA8ET,kBAEGA,EAAW,YAAc,sBC/GrBK,I,MAvBE,SAAA/J,GAAU,IAAD,EACUA,EAAMpD,KAAhCuF,EADgB,EAChBA,MAAOqG,EADS,EACTA,KAAMF,EADG,EACHA,SACb1B,EAAqE0B,EAArE1B,UAAWI,EAA0DsB,EAA1DtB,WAAYE,EAA8CoB,EAA9CpB,QAASC,EAAqCmB,EAArCnB,KAAMxJ,EAA+B2K,EAA/B3K,MAAOsJ,EAAwBqB,EAAxBrB,YAAaG,EAAWkB,EAAXlB,OAC5D4C,EAAkB,IAAI5L,KAAKoK,GAC3ByB,GAAc,IAAMD,EAAgBE,WAAWC,OAAO,GACtDC,GAAgB,KAAOJ,EAAgBK,WAAa,IAAIF,OAAO,GAE/DG,EAAS,UAAML,EAAN,YAAoBG,EAApB,YAAoCJ,EAAgBO,cAApD,YAAqEP,EAAgBQ,WAArF,YAAmGR,EAAgBS,cAElI,OACE,sBAAK/J,UAAU,cAAf,UACE,sBAAKA,UAAU,oBAAf,yBAA+C,+BAAQ4J,OACvD,sBAAK5J,UAAU,uBAAf,UACE,oBAAGA,UAAU,oBAAb,oBAAwC,iCAAOyB,EAAP,UACxC,oBAAGzB,UAAU,oBAAb,mBAAuC,yCAAUkG,EAAV,YAAuBI,QAC9D,oBAAGtG,UAAU,oBAAb,sBAA0C,yCAAUwG,EAAV,aAAsBE,EAAtB,YAAgCD,QAC1E,oBAAGzG,UAAU,oBAAb,oBAAwC,+BAAQ/C,OAChD,oBAAG+C,UAAU,oBAAb,oBAAwC,+BAAQuG,eC0DzCrH,I,MAAAA,aAfS,SAAAzF,GACtB,MAAO,CACLL,MAAOK,EAAM2F,KAAKhG,MAClBC,OAAQI,EAAM2F,KAAK/F,OACnB4C,WAAYxC,EAAMiF,MAAMzC,WACxB1C,QAASE,EAAMiF,MAAM1C,eAIE,SAAAqD,GACzB,MAAO,CACL2K,WAAY,SAAC5Q,EAAOC,GAAR,OAAmBgG,E5BvBX,SAACjG,EAAOC,GAC9B,MAAO,CACLM,KAAMC,EACNR,MAAOA,EACPC,OAAQA,G4BmBgCK,CAAgBN,EAAOC,QAIpD6F,EApES,SAACI,GAAW,IAG9B2K,EAFG7Q,EAAkDkG,EAAlDlG,MAAOC,EAA2CiG,EAA3CjG,OAAQ2Q,EAAmC1K,EAAnC0K,WAAY/N,EAAuBqD,EAAvBrD,WAAY1C,EAAW+F,EAAX/F,QACxC2Q,EAAelP,OAAOmH,oBAAoBlG,GAG1CkO,EAAY5B,uBAAY,WAC5ByB,EAAW5Q,EAAOC,KACjB,CAACD,EAAOC,EAAQ2Q,KAEnBjK,qBAAU,WACM,OAAV3G,GAA6B,OAAXC,GACpB8Q,MAGD,CAAC/Q,EAAOC,EAAQ8Q,IAEf5Q,IACF0Q,EAAS,cAAC,GAAD,MAGN1Q,GAAW2Q,EAAa9H,QAAU,KAKrC6H,EAJwBjP,OAAOC,OAAOgB,GAAYuF,KAAI,SAAC4I,GACrD,OAAOA,KAINC,MAAK,SAACC,EAAGC,GAAJ,OAAU,IAAI7M,KAAK6M,EAAEzC,MAAQ,IAAIpK,KAAK4M,EAAExC,SAC7CtG,KAAI,SAAA6B,GACH,OACE,cAAC,GAAD,CAEInH,KAAMmH,GADDA,EAAOyE,UAWxB,OAJKvO,GAAmC,IAAxB2Q,EAAa9H,SAC3B6H,EAAS,2DAIT,0BAASjK,UAAU,SAAnB,UACE,sBAAKA,UAAU,iBAAf,UACE,oBAAIA,UAAU,gBAAd,oBACA,mBAAGA,UAAU,eAAb,4CAGF,qBAAKA,UAAU,eAAf,SAA+BiK,WCrCtB/K,eAAQ,MALI,SAAAG,GACzB,MAAO,CACLmL,SAAU,kBAAMnL,EAAS3F,UAGdwF,EAfA,SAAAI,GAAU,IACfkL,EAAalL,EAAbkL,SAMN,OAJFzK,qBAAU,WACRyK,MACC,CAACA,IAEK,cAAC,IAAD,CAAUnK,GAAG,SCyCTnB,I,MAAAA,aAZS,SAAAzF,GACtB,MAAO,CACLL,MAAOK,EAAM2F,KAAKhG,UAIK,SAAAiG,GACzB,MAAO,CACLoL,UAAW,kBAAMpL,EpCEZ,CACL1F,KAAMC,QoCCKsF,EAtCH,SAAAI,GAAU,IACZlG,EAAqBkG,EAArBlG,MAAOqR,EAAcnL,EAAdmL,UAUf,OARA1K,qBAAU,WACR0K,IAEc,OAAVrR,GACFuF,EAAQC,KAAK,YAKf,qBAAKoB,UAAU,gBAAf,SACE,cAAC,GAAD,CAAQc,OAAQ1H,EAAhB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOqP,KAAK,aAAaiC,UAAW/B,KACpC,cAAC,IAAD,CAAOF,KAAK,QAAQiC,UAAWC,KAC/B,cAAC,IAAD,CAAOlC,KAAK,UAAUiC,UAAWE,KACjC,cAAC,IAAD,CAAOnC,KAAK,UAAUiC,UAAWG,KACjC,cAAC,IAAD,CAAOpC,KAAK,IAAIiC,UAAWI,gBCT/BC,I,kBAAiBC,eAEjBC,GAAcC,YAAgB,CAClC9L,KAAM+L,EACNhM,GAAIiM,EACJ1M,MAAO2M,IAGHC,GAAmB/T,OAAOgU,sCAAwCC,IAElEC,GAAQC,YACZT,GACAK,GAAkBK,YAAiBZ,MAIrCA,GAAea,IAAI/M,IACnBkM,GAAea,IAAI9M,IACnBiM,GAAea,IAAI7M,IAEnB,IAAM8M,GACJ,cAAC,IAAD,CAAUJ,MAAOA,GAAjB,SACE,cAAC,IAAD,CAAQ9M,QAASA,EAAjB,SACE,cAAC,IAAMmN,WAAP,UACE,cAAC,GAAD,UAMRC,IAASrD,OAAOmD,GAAUG,SAASC,eAAe,S3C2E5C,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAlT,GACLmT,QAAQnT,MAAMA,EAAMiM,c","file":"static/js/main.54a6efc1.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();","// ICECREAMS\nexport const ICECREAM_INIT = 'ICECREAM_INIT';\nexport const ICECREAM_ADD = 'ICECREAM_ADD';\nexport const ICECREAM_REMOVE = 'ICECREAM_REMOVE';\nexport const ICECREAM_SET = 'ICECREAM_SET';\nexport const ICECREAM_FETCH_FAIL = 'ICECREAM_FETCH_FAIL';\n\nexport const SUMMARY_OPEN = 'SUMMARY_OPEN';\nexport const SUMMARY_CLOSE = 'SUMMARY_CLOSE';\n\n// ORDERS - POST\nexport const ORDER_POST = 'ORDER_POST';\nexport const ORDER_POST_START = 'ORDER_POST_START';\nexport const ORDER_POST_SUCCESS = 'ORDER_POST_SUCCESS';\nexport const ORDER_POST_FAIL = 'ORDER_POST_FAIL';\n// ORDERS - GET\nexport const ORDER_GET = 'ORDER_GET';\nexport const ORDER_GET_START = 'ORDER_GET_START';\nexport const ORDER_GET_SUCCESS = 'ORDER_GET_SUCCESS';\nexport const ORDER_GET_FAIL = 'ORDER_GET_FAIL';\n\n\n// AUTH\nexport const AUTH = 'AUTH';\nexport const AUTH_START = 'AUTH_START';\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\nexport const AUTH_FAIL = 'AUTH_FAIL';\nexport const AUTH_INITIATE_LOGOUT = 'AUTH_INITIATE_LOGOUT';\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';\nexport const AUTH_CHECK_TIMEOUT = 'AUTH_CHECK_TIMEOUT';\nexport const AUTH_CHECK_ON_START = 'AUTH_CHECK_ON_START';\n","import * as actionType from '../actions/actionTypes';\n\nconst initialState = {\n  token: null,\n  userId: null,\n  error: null,\n  loading: false\n}\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionType.AUTH_START:\n      return {\n        ...state,\n        error: null,\n        loading: true\n      }\n\n    case actionType.AUTH_FAIL:\n      return {\n        ...state,\n        error: action.error,\n        loading: false\n      }\n\n    case actionType.AUTH_SUCCESS:\n      return {\n        ...state,\n        token: action.token,\n        userId: action.id,\n        error: null,\n        loading: false,\n      };\n    case actionType.AUTH_LOGOUT:\n      return {\n        ...state,\n        token: null,\n        userId: null,\n      };\n\n    default:\n      return state;  \n  }\n}\n\nexport default reducer;\n","import * as actionType from '../actions/actionTypes';\n\nconst initialState = {\n  icecreams: {},\n  cart: {},\n  totalPrice: 0,\n  fetchError: false,\n  summaryType: false\n};\n\nconst addIcecream = (state, action) => {\n  const addName = action.icecreamName;\n  const addSize = action.icecreamSize;\n  const addPrice = action.icecreamPrice;\n\n  return {\n    ...state,\n    cart: {\n      ...state.cart,\n      [addName]: {\n        ...state.cart[addName],\n        [addSize]: state.cart[addName][addSize] + 1,\n      },\n    },\n    totalPrice: state.totalPrice + addPrice,\n  };\n}\n\nconst removeIcecream = (state, action) => {\n  const removeName = action.icecreamName;\n  const removeSize = action.icecreamSize;\n  const removePrice = action.icecreamPrice;\n\n  return {\n    ...state,\n    cart: {\n      ...state.cart,\n      [removeName]: {\n        ...state.cart[removeName],\n        [removeSize]: state.cart[removeName][removeSize] - 1,\n      },\n    },\n    totalPrice: state.totalPrice - removePrice,\n  };\n}\n\nconst setIcecream = (state, action) => {\n  const icecreamsValues = Object.values(action.icecream);\n  let updatedCart = {}\n\n  for (const key in icecreamsValues) {\n    const name = icecreamsValues[key].shortname;\n    const element = icecreamsValues[key].variation;\n\n    for (const variation in element) {\n      const singleElement = element[variation];\n\n      updatedCart[name] =  {\n        ...updatedCart[name],\n        [singleElement.type]: 0\n      }\n    }\n  }\n\n  return {\n    ...state,\n    icecreams: action.icecream,\n    cart: updatedCart,\n    totalPrice: initialState.totalPrice,\n    fetchError: false,\n  };\n}\n\nconst fetchFailIcecream = (state, action) => {\n  return {\n    ...state,\n    icecreams: {},\n    cart: {},\n    totalPrice: 0,\n    fetchError: true,\n  };\n}\n\nconst toggleSummary = (state, action) => {\n  return {\n    ...state,\n    summaryType: !state.summaryType,\n  };\n}\n\nconst closeSummary = (state, action) => {\n  return {\n    ...state,\n    summaryType: false\n  }\n}\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionType.ICECREAM_ADD:\n      return addIcecream(state, action);\n    case actionType.ICECREAM_REMOVE:\n      return removeIcecream(state, action);\n    case actionType.ICECREAM_SET:\n      return setIcecream(state, action);\n    case actionType.ICECREAM_FETCH_FAIL:\n      return fetchFailIcecream(state, action);\n    case actionType.SUMMARY_OPEN:\n      return toggleSummary(state, action);\n    case actionType.SUMMARY_CLOSE:\n      return closeSummary(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import * as actionType from '../actions/actionTypes';\n\nconst initialState = {\n  postError: null,\n  postLoading: false,\n  getError: null,\n  getLoading: false,\n  userOrders: {}\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionType.ORDER_POST_START:\n      return {\n        ...state,\n        postError: null,\n        postLoading: true,\n      };\n    case actionType.ORDER_POST_SUCCESS:\n      return {\n        ...state,\n        postLoading: false,\n        postError: null,\n      };\n    case actionType.ORDER_POST_FAIL:\n      return {\n        ...state,\n        postLoading: false,\n        postError: action.error,\n      };\n    case actionType.ORDER_GET_START:\n      return {\n        ...state,\n        getError: null,\n        getLoading: true\n      };\n    case actionType.ORDER_GET_SUCCESS:\n      return {\n        ...state,\n        getError: null,\n        getLoading: false,\n        userOrders: action.data\n      };\n      case actionType.ORDER_GET_FAIL:\n        return {\n          ...state,\n          getError: action.error,\n          getLoading: false,\n          userOrders: initialState.userOrders\n        }\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import * as actionType from './actionTypes';\n\nexport const authStart = () => {\n  return {\n    type: actionType.AUTH_START\n  }\n}\n\nexport const authSuccess = (token, id) => {\n  return {\n    type: actionType.AUTH_SUCCESS,\n    token: token,\n    id: id\n  };\n}\n\nexport const authFail = (error) => {\n  return {\n    type: actionType.AUTH_FAIL,\n    error: error\n  }\n}\n\nexport const logout = () => {\n  return {\n    type: actionType.AUTH_INITIATE_LOGOUT,\n  };\n}\n\nexport const logoutSucceed = () => {\n  return {\n    type: actionType.AUTH_LOGOUT,\n  };\n}\n\nexport const checkAuthTimeout = (time) => {\n  return {\n    type: actionType.AUTH_CHECK_TIMEOUT,\n    time: time\n  };\n}\n\nexport const auth = (email, pass, formType) => {\n  return {\n    type: actionType.AUTH,\n    email: email,\n    pass: pass,\n    formType: formType,\n  };\n}\n\nexport const checkAuthOnStart = () => {\n  return {\n    type: actionType.AUTH_CHECK_ON_START,\n  };\n}\n","import { put, delay } from 'redux-saga/effects';\nimport axios from 'axios';\n\nimport * as actions from '../actions/index';\n\nexport function* logoutSaga() {\n  yield localStorage.removeItem('token');\n  yield localStorage.removeItem('userId');\n  yield localStorage.removeItem('expiresDate');\n\n  yield put(actions.logoutSucceed());\n}\n\nexport function* checkAuthTimeoutSaga(action) {\n  yield delay(action.time * 1000);\n  yield put(actions.logout());\n}\n\nexport function* authSaga(action) {\n  yield put(actions.authStart());\n\n  const userData = {\n    email: action.email,\n    password: action.pass,\n    returnSecureToken: true,\n  };\n\n  let url =\n    'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBZpy3lK4ItxEbC_zDOWRhRjIwEneEhRA8';\n  if (action.formType) {\n    url =\n      'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBZpy3lK4ItxEbC_zDOWRhRjIwEneEhRA8';\n  }\n\n  try {\n    const response = yield axios.post(url, userData);\n    const expDate = yield new Date(new Date().getTime() + response.data.expiresIn * 1000);\n    yield localStorage.setItem('token', response.data.idToken);\n    yield localStorage.setItem('userId', response.data.localId);\n    yield localStorage.setItem('expiresDate', expDate);\n    \n    yield put(actions.authSuccess(response.data.idToken, response.data.localId));\n    yield put(actions.checkAuthTimeout(response.data.expiresIn));\n\n  } catch (error) {\n    yield put(actions.authFail(error.response.data.error));\n  }\n}\n\nexport function* checkAuthOnStartSaga() {\n    const token = yield localStorage.getItem('token');\n\n    if (!token) {\n      yield put(actions.logout());\n    } else {\n      const expiresDate = yield new Date(localStorage.getItem('expiresDate'));\n      const userId = yield localStorage.getItem('userId');\n\n      if (expiresDate <= new Date()) {\n        yield put(actions.logout());\n      } else {\n        yield put(actions.authSuccess(token, userId));\n        yield put(actions.checkAuthTimeout( (expiresDate.getTime() - new Date().getTime()) / 1000) );\n      }\n    }\n}\n","import axios from 'axios';\n\nconst instance =  axios.create({\n  baseURL: 'https://icecream-orders.firebaseio.com/'\n})\n\nexport default instance;","import { put } from 'redux-saga/effects';\nimport axios from '../../axios/axios';\n\nimport * as actions from '../actions/index';\n\nexport function* icecreamInitSaga(action) {\n  try {\n    const response = yield axios.get(`icecreams.json?auth=${action.token}`);\n    yield put(actions.setIcecream(response.data));\n\n  } catch (error) {\n    yield put(actions.fetchFailIcecream());\n  }\n}\n","import * as actionType from './actionTypes';\n\nexport const addIcecream = (icName, icSize, icPrice) => {\n  return {\n    type: actionType.ICECREAM_ADD,\n    icecreamName: icName,\n    icecreamSize: icSize,\n    icecreamPrice: icPrice\n  };\n};\n\nexport const removeIcecream = (icName, icSize, icPrice) => {\n  return {\n    type: actionType.ICECREAM_REMOVE,\n    icecreamName: icName,\n    icecreamSize: icSize,\n    icecreamPrice: icPrice\n  };\n}\n\nexport const setIcecream = (icecream) => {\n  return {\n    type: actionType.ICECREAM_SET,\n    icecream: icecream\n  };\n};\n\nexport const fetchFailIcecream = () => {\n  return {\n    type: actionType.ICECREAM_FETCH_FAIL\n  }\n}\n\nexport const icecreamInit = (token) => {\n  return {\n    type: actionType.ICECREAM_INIT,\n    token: token\n  };\n}\n\nexport const toggleSummary = (summaryType) => {\n  return {\n    type: actionType.SUMMARY_OPEN,\n    summaryType: summaryType,\n  };\n}\n\nexport const closeSummary = () => {\n  return {\n    type: actionType.SUMMARY_CLOSE,\n  }\n}\n","import { put } from 'redux-saga/effects';\nimport axios from '../../axios/axios';\nimport history from \"../../history\";\n\nimport * as actions from '../actions/index';\n\nexport function* orderPostSaga(action) {\n\n  yield put(actions.orderPostStart());\n\n  try {\n    yield axios.post(`/orders.json?auth=${action.token}`, action.order);\n    yield put(actions.orderPostSuccess());\n    history.push('/thank-you');\n\n  } catch (error) {\n    yield put(actions.orderPostFail(error.response));\n  }\n}\n\nexport function* orderGetSaga(action) {\n  yield put(actions.orderGetStart());\n\n  try {\n    const response = yield axios.get(`/orders.json?auth=${action.token}&orderBy=\"userId\"&equalTo=\"${action.userId}\"`);\n    yield put(actions.orderGetSuccess(response.data));\n\n  } catch (error) {\n    yield put(actions.orderGetFail(error.response));\n  }\n}\n","import * as actionType from './actionTypes';\n\n// POST\nexport const orderPostStart = () => {\n  return {\n    type: actionType.ORDER_POST_START,\n  };\n};\n\nexport const orderPostSuccess = () => {\n  return {\n    type: actionType.ORDER_POST_SUCCESS,\n  }\n}\n\nexport const orderPostFail = (error) => {\n  return {\n    type: actionType.ORDER_POST_FAIL,\n    error: error,\n  };\n};\n\nexport const orderPost = (order, token) => {\n  return {\n    type: actionType.ORDER_POST,\n    order: order,\n    token: token,\n  };\n};\n\n// GET\nexport const orderGetStart = () => {\n  return {\n    type: actionType.ORDER_GET_START\n  }\n}\n\nexport const orderGetSuccess = (data) => {\n  return {\n    type: actionType.ORDER_GET_SUCCESS,\n    data: data\n  }\n}\n\nexport const orderGetFail = (error) => {\n  return {\n    type: actionType.ORDER_GET_FAIL,\n    error: error\n  }\n}\n\nexport const orderGet = (token, userId) => {\n  return {\n    type: actionType.ORDER_GET,\n    token: token,\n    userId: userId,\n  };\n};\n","import { takeEvery, takeLatest } from 'redux-saga/effects';\n\nimport * as actionType from '../actions/actionTypes';\n\nimport {\n  logoutSaga,\n  checkAuthTimeoutSaga,\n  authSaga,\n  checkAuthOnStartSaga,\n} from './auth';\n\nimport { icecreamInitSaga } from './icecreams';\nimport { orderPostSaga, orderGetSaga } from './order';\n\nexport function* watchAuth() {\n  yield takeEvery(actionType.AUTH_CHECK_TIMEOUT, checkAuthTimeoutSaga);\n  yield takeEvery(actionType.AUTH_INITIATE_LOGOUT, logoutSaga);\n  yield takeEvery(actionType.AUTH, authSaga);\n  yield takeEvery(actionType.AUTH_CHECK_ON_START, checkAuthOnStartSaga);\n}\n\nexport function* watchIcecreams() {\n  yield takeEvery(actionType.ICECREAM_INIT, icecreamInitSaga);\n}\n\nexport function* watchOrder() {\n  yield takeLatest(actionType.ORDER_POST, orderPostSaga);\n  yield takeEvery(actionType.ORDER_GET, orderGetSaga);\n}\n","export default __webpack_public_path__ + \"static/media/example-logo.2c3a0d47.png\";","export default __webpack_public_path__ + \"static/media/i-cart.393d2d72.svg\";","export default __webpack_public_path__ + \"static/media/i-user.8cab7b59.svg\";","export default __webpack_public_path__ + \"static/media/i-orders-list.ef69039a.svg\";","export default __webpack_public_path__ + \"static/media/i-exit.98d53023.svg\";","import React, {useEffect, useState} from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport {useLocation} from \"react-router-dom\";\n\nimport * as action from '../../store/actions/index'\n\nimport './TopBar.scss';\nimport appLogo from  '../../assets/images/example-logo.png';\nimport cartIcon from  '../../assets/images/i-cart.svg';\nimport userIcon from  '../../assets/images/i-user.svg';\nimport ordersIcon from  '../../assets/images/i-orders-list.svg';\nimport logoutIcon from  '../../assets/images/i-exit.svg';\n\nconst TopBar = props => {\n  const [cartElements, setCartElements] = useState(0);\n  const [cartOption, setCartOption] = useState(null);\n  const currentPath = useLocation().pathname;\n  const { cart, token, toggleSummary } = props;\n\n  useEffect(() => {\n    if (currentPath === '/' || currentPath === '/checkout') {\n      setCartOption(\n        <div\n          className=\"topbar__icon topbar__cart\"\n          onClick={toggleSummary}\n        >\n          <img src={cartIcon} alt=\"Cart\" />\n          { cartElements > 0 && <span className=\"topbar__cart-quantity\">{ cartElements }</span> }\n        </div>\n      );\n    } else {\n      setCartOption(\n        <div className=\"topbar__icon topbar__cart\">\n          <Link to=\"/\">\n            <img src={cartIcon} alt=\"Products\" />\n          </Link>\n        </div>\n      );\n    }\n\n  }, [currentPath, setCartOption, cartElements, toggleSummary]);\n\n  useEffect(() => {\n    let finalValue = 0;\n\n    for (const key in cart) {\n      const element = cart[key];\n\n      for (const value in cart[key]) {\n        const newValue = element[value];\n        finalValue += newValue;\n      }\n      setCartElements(finalValue);\n    }\n  }, [cart]);\n\n  let authUrl = !token ? (\n    <Link to=\"/auth\">\n      <img src={userIcon} alt=\"Login\" />\n    </Link>\n  ) : (\n    <Link to=\"/logout\">\n      <img src={logoutIcon} alt=\"Logout\" />\n    </Link>\n  );\n\n  return (\n    <header className=\"topbar\">\n      <div className=\"topbar__inner\">\n        <div className=\"topbar__wrap\">\n          <Link to=\"/\" className=\"topbar__logo\">\n            <img src={appLogo} alt=\"Logo\" />\n          </Link>\n          <div className=\"topbar__icons\">\n            <div className=\"topbar__icon topbar__auth\">{authUrl}</div>\n            {token && (\n              <div className=\"topbar__icon topbar__user\">\n                <Link to=\"/orders\">\n                  <img src={ordersIcon} alt=\"Orders\" />\n                </Link>\n              </div>\n            )}\n\n            { cartOption }\n\n          </div>\n          {/* __icons */}\n        </div>\n      </div>\n    </header>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    summaryType: state.ic.summaryType,\n    token: state.auth.token,\n    cart: state.ic.cart\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    toggleSummary: () => dispatch(action.toggleSummary())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TopBar);\n","import React, { Fragment } from 'react'\nimport TopBar from '../TopBar/TopBar';\n\nconst Layout = props => {\n\n  return (\n    <Fragment>\n      { props.isAuth !== null ? <TopBar /> : '' }\n\n      <main className=\"main\">\n        {props.children}\n      </main>\n    </Fragment>\n  );\n}\n\nexport default Layout\n","export default __webpack_public_path__ + \"static/media/plus-1.3570cd54.svg\";","export default __webpack_public_path__ + \"static/media/minus-1.4ce538bf.svg\";","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as action from '../../../store/actions/index';\n\nimport './SingleBox.scss';\n// import BoxImage from '../../../assets/images/placeholder-image.png';\nimport plusIcon from '../../../assets/images/plus-1.svg';\nimport minusIcon from '../../../assets/images/minus-1.svg';\n\nconst SingleBox = props => {\n  const { image, fullname, shortname, cart, variations, onIcecreamRemove, onIcecreamAdd } = props;\n\n  return (\n    <div className=\"s-box\">\n      <div className=\"s-box__image\">\n        <img src={image} alt=\"Icecream Box\"/>\n      </div>\n      <div className=\"s-box__content\">\n        <p className=\"s-box__name\">{fullname}</p>\n        {\n          variations.map(variation => {\n            const { type, price} = variation;\n\n            return (\n              <div className=\"s-box__item\" key={type}>\n                <div className=\"s-box__col\">\n                  <p className=\"s-box__type\">Size: <strong>{type}</strong></p>\n                  <p className=\"s-box__price\">{price.toFixed(2)} $</p>\n                </div>\n                <div className=\"s-box__col s-box__col--buttons\">\n                  <button\n                    onClick={() =>\n                      onIcecreamRemove(\n                        shortname,\n                        type,\n                        price\n                      )\n                    }\n                    disabled={cart[type] <= 0}\n                    className=\"s-box__btn\"\n                  >\n                    <img src={minusIcon} alt=\"Decrement\"/>\n                  </button>\n                  <button\n                    onClick={() =>\n                      onIcecreamAdd(\n                        shortname,\n                        type,\n                        price\n                      )\n                    }\n                    className=\"s-box__btn\"\n                  >\n                    <img src={plusIcon} alt=\"Increment\"/>\n                  </button>\n                </div>\n              </div>\n            );\n          })\n        }\n      </div>\n    </div>\n  );\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onIcecreamAdd: (icName, icSize, icPrice) =>\n      dispatch(action.addIcecream(icName, icSize, icPrice)),\n    onIcecreamRemove: (icName, icSize, icPrice) =>\n      dispatch(action.removeIcecream(icName, icSize, icPrice)),\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(SingleBox);\n","import React from 'react'\nimport './Loader.scss';\n\nfunction Loader() {\n  return (\n    <div className=\"loader\">\n      <div className=\"loader__spinner\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n}\n\nexport default Loader\n","export default __webpack_public_path__ + \"static/media/prod1.fd047d0c.jpg\";","export default __webpack_public_path__ + \"static/media/prod2.fd2afd15.jpg\";","export default __webpack_public_path__ + \"static/media/prod3.be71dbd0.jpg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport SingleBox from './SingleBox/SingleBox';\nimport Loader from '../UI/Loader/Loader';\n\nimport prod1 from '../../assets/images/prod1.jpg'\nimport prod2 from '../../assets/images/prod2.jpg'\nimport prod3 from '../../assets/images/prod3.jpg'\n\nimport './Boxes.scss';\n\nconst Boxes = props => {\n  const { prices, cart, purchasable, fetchError } = props;\n\n  const icecreamsObject = Object.getOwnPropertyNames(props.icecreams);\n  let icecream = <Loader />\n\n  if (icecreamsObject.length >= 1) {\n    const icecreams = Object.values(props.icecreams).map((icKey) => {\n      return icKey;\n    });\n\n    icecream = icecreams.map((val, index) => {\n      return (\n        <SingleBox\n          key={val.shortname}\n          prices={prices}\n          fullname={val.fullname}\n          shortname={val.shortname}\n          variations={val.variation}\n          cart={cart[val.shortname]}\n          image={index % 2 ? prod1 : index % 3 ? prod3 : prod2}\n        />\n      );\n    });\n  }\n\n  if (icecreamsObject.length === 0 && fetchError) {\n    icecream = <p className=\"m-boxes__error\">Ouch! Something went wrong</p>;\n  }\n\n  return (\n    <div className=\"m-boxes\">\n      <div className=\"m-boxes__wrap\">{icecream}</div>\n      <div className=\"m-boxes__link\">\n        { purchasable && (\n          <Link to=\"/checkout\" className=\"m-boxes__btn\">Checkout</Link>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Boxes;\n","import React from 'react';\nimport './SummaryItem.scss';\n\nconst SummaryItem = props => {\n  const {name, size, value, price} = props;\n\n  return (\n    <li className=\"summary-item\">\n      <p className=\"summary-item__name\">\n        <strong>{ name }</strong>{size}\n      </p>\n      <span className=\"summary-item__wrap\">\n        <p className=\"summary-item__value\">\n          {value} x {price.toFixed(2)} $\n        </p>\n        <p className=\"summary-item__price\">\n          {(value * price).toFixed(2)} $\n        </p>\n      </span>\n    </li>\n  );\n}\n\nexport default SummaryItem;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport SummaryItem from './SummaryItem/SummaryItem';\n\nimport './Summary.scss';\n\nconst Summary = props => {\n  const { cart, icecreams, summaryType, pagePath, purchasable, totalPrice } = props;\n  let prices = [];\n  let ctaButton = null;\n  let summaryClasses = ['summary'];\n\n  if (summaryType === true) {\n    summaryClasses.push('summary--mobile');\n  }\n  \n  const isSomething = (\n    <div className=\"summary__info\">\n      <p>Your cart is empty</p>\n    </div>\n  );\n\n  if (pagePath) {\n    ctaButton = <Link to=\"/checkout\" className=\"summary__btn\">Checkout</Link>\n  } else {\n    ctaButton = <Link to=\"/\" className=\"summary__btn\">Back to order</Link>\n  }\n\n  const summaryItems = Object.keys(cart).map(key => {\n    const ic = icecreams[key].variation;\n    const name = icecreams[key].fullname;\n    const shortName = icecreams[key].shortname;\n    const itemCart = cart[key];\n\n\n    for (const single in ic) {\n      const element = ic[single];\n      prices[shortName] = {\n        ...prices[shortName],\n        [element.type]: element.price,\n      };\n    }\n    \n    return Object.keys(itemCart).map((size) => {\n      const price = prices[shortName][size];\n      const value = itemCart[size];\n\n      if (value !== 0) {\n        return <SummaryItem key={shortName + size} name={name} shortName={shortName} size={size} ic={icecreams} price={price} value={value} />;\n      }\n      return false;\n    });\n\n  });\n  \n  return (\n    <div className={summaryClasses.join(' ')}>\n      <h2 className=\"summary__title\">Your Order</h2>\n\n      {!purchasable && isSomething}\n\n      <ol className=\"summary__list\">{summaryItems}</ol>\n\n      {purchasable && (\n        <div className=\"summary__footer\">\n          <div className=\"summary__cart\">\n            <p className=\"summary__cart-text\">Summary:</p>\n            <p className=\"summary__cart-text summary__cart-text--value\">{totalPrice.toFixed(2)} $</p>\n          </div>\n\n          <div className=\"summary__btn-wrap\">\n            { ctaButton }\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    icecreams: state.ic.icecreams,\n    cart: state.ic.cart,\n    totalPrice: state.ic.totalPrice,\n    summaryType: state.ic.summaryType,\n  };\n};\n\nexport default connect(mapStateToProps, null)(Summary);\n","import {useState} from \"react\";\nimport {checkValidity} from \"../shared/utility\";\n\nconst useInputChanged = () => {\n  const [formIsValid, setFormIsValid] = useState(false);\n\n  const inputChangedHandler = (data, element, inputId) => {\n    const updatedForm = {\n      ...data\n    };\n    const updatedFormElement = {\n      ...updatedForm[inputId],\n    };\n\n    updatedFormElement.value = element.target.value;\n    updatedFormElement.valid = checkValidity(\n      updatedFormElement.value,\n      updatedFormElement.validation\n    );\n    updatedFormElement.touched = true;\n    updatedForm[inputId] = updatedFormElement;\n\n    let formValidity = true;\n\n    for (const inputId in updatedForm) {\n      formValidity = updatedForm[inputId].valid && formValidity;\n    }\n\n    setFormIsValid(formValidity);\n\n    return updatedForm;\n  }\n\n  return {\n    formIsValid: formIsValid,\n    inputChangedHandler: inputChangedHandler\n  }\n};\n\nexport default useInputChanged;\n","export const checkValidity = (value, rules) => {\n  let isValid = true;\n  const postalRegex = /\\d{2}-\\d{3}/g;\n  // const telRegex = /(?:<!\\w)(\\(?(\\+|00)?48\\)?)?[ -]?\\d{3}[ -]?\\d{3}[ -]?\\d{3}(?!\\w)/g;\n  const telRegex = /(\\(?(\\+|00)?48\\)?)?[ -]?\\d{3}[ -]?\\d{3}[ -]?\\d{3}(?!\\w)/g;\n  const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n  if (rules.required) {\n    isValid = value.trim() !== '' && isValid;\n  }\n\n  if (rules.regex === 'postal') {\n    isValid = value.match(postalRegex) && isValid;\n  }\n\n  if (rules.regex === 'tel') {\n    value.replace(/\\s/g, '');\n    // isValid = telRegex.test(String(value)) && isValid;\n    isValid = value.match(telRegex) && isValid;\n  }\n\n  if (rules.regex === 'email') {\n    isValid = emailRegex.test(String(value).toLowerCase());\n  }\n\n  if (rules.minLength) {\n    isValid = value.length >= rules.minLength && isValid;\n  }\n\n  if (rules.maxLength) {\n    isValid = value.length === rules.maxLength && isValid;\n  }\n\n  return isValid;\n}\n\nexport const showErrorMessage = error => {\n  switch (error) {\n    case 'EMAIL_EXISTS':\n      return `The email address is already in use by another account`;\n    case 'EMAIL_NOT_FOUND':\n      return 'There is no user record corresponding to this identifier';\n    case 'USER_DISABLED':\n      return 'The user account has been disabled by an administrator';\n    case 'INVALID_PASSWORD':\n      return 'The password is invalid';\n    case 'TOO_MANY_ATTEMPTS_TRY_LATER':\n      return 'We have blocked all requests from this device due to unusual activity. Try again later'\n    default:\n      return error;\n  }\n}\n","import React from 'react'\nimport './Button.scss';\n\nconst Button = (props) => {\n  const {name, disabled, types } = props;\n  const classes = ['button__btn'];\n\n  if (types) {\n    types.map(single => classes.push(`button__btn--${single}`) );\n  }\n\n  return (\n    <div className=\"button\">\n      <button className={classes.join(' ')} type=\"submit\" disabled={disabled} >\n        {name}\n      </button>\n    </div>\n  )\n}\n\nexport default Button\n","import React from 'react';\nimport './InputField.scss';\n\nconst InputField = (props) => {\n  const { additionalClass, valid, touched, tip, message, inputType, elementConfig, value, changed, labelEl } = props;\n  let inputEl = null;\n  let errorMessage;\n  let tipMessage;\n  const inputClasses = ['input-field'];\n\n  if (additionalClass) {\n    inputClasses.push(additionalClass);\n  }\n\n  if (valid && touched) {\n    inputClasses.push('invalid');\n    errorMessage = <span>{message}</span>;\n  }\n\n  if (tip !== undefined && valid && touched) {\n    tipMessage = <span className=\"input-tip\">{tip}</span>;\n  }\n\n  switch (inputType) {\n    case 'input':\n      inputEl = (\n        <input\n          className=\"input-field__input\"\n          {...elementConfig}\n          value={value}\n          onChange={changed}\n        />\n      );\n    break;\n    \n    case 'email':\n      inputEl = (\n        <input\n          className=\"input-field__input\"\n          {...elementConfig}\n          value={value}\n          onChange={changed}\n        />\n      );\n    break;\n    \n    case 'password':\n      inputEl = (\n        <input\n          className=\"input-field__input\"\n          {...elementConfig}\n          value={value}\n          onChange={changed}\n        />\n      );\n    break;\n    \n    case 'textarea':\n      inputEl = <textarea {...elementConfig} />;\n    break;\n    \n    default:\n    break;\n  }\n\n  return (\n    <div className={inputClasses.join(' ')} >\n      <label className=\"input-field__label\">{labelEl}</label>\n      {inputEl}\n      {errorMessage}\n      {tipMessage}\n    </div>\n  );\n};\n\nexport default InputField;\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport useInputChanged from '../../hooks/useInputChanged';\nimport Button from '../../components/UI/Button/Button';\nimport InputField from '../../components/UI/InputField/InputField';\n\nimport * as action from '../../store/actions/index';\n\nimport './CheckoutContainer.scss';\n\n// TODO in v2:\n// 1. Add adddress input with hints based on google maps & openstreet maps\n// 2. CHECKBOX FOR ACCEPTANCE TERMS\n\nconst CheckoutContainer = props => {\n  const checkoutInitialState = {\n    firstName: {\n      elementType: 'input',\n      labelEl: 'First name',\n      additionalClass: 'input-field--half',\n      config: {\n        type: 'text',\n        autoComplete: 'given-name',\n        name: 'given-name'\n      },\n      value: '',\n      validation: {\n        required: true,\n        message: 'Enter first name.',\n      },\n      valid: false,\n      touched: false,\n    },\n    secondName: {\n      elementType: 'input',\n      labelEl: 'Second name',\n      additionalClass: 'input-field--half',\n      config: {\n        type: 'text',\n        autoComplete: 'family-name',\n        name: 'family-name'\n      },\n      value: '',\n      validation: {\n        required: true,\n        message: 'Enter second name.',\n      },\n      valid: false,\n      touched: false,\n    },\n    phoneNumber: {\n      elementType: 'input',\n      labelEl: 'Phone number',\n      additionalClass: 'input-field--half',\n      config: {\n        type: 'tel',\n        autoComplete: 'tel',\n        name: 'tel'\n      },\n      value: '',\n      validation: {\n        required: true,\n        regex: 'tel',\n        message: 'Enter correct phone number.',\n      },\n      valid: false,\n      touched: false,\n    },\n    email: {\n      elementType: 'email',\n      labelEl: 'E-mail',\n      additionalClass: 'input-field--half',\n      config: {\n        type: 'email',\n        autoComplete: 'email',\n        name: 'email'\n      },\n      value: '',\n      validation: {\n        required: true,\n        regex: 'email',\n        message: 'Enter correct e-mail address.',\n      },\n      valid: false,\n      touched: false,\n    },\n    address: {\n      elementType: 'input',\n      labelEl: 'Shipping address',\n      additionalClass: 'input-field--half',\n      config: {\n        type: 'text',\n        autoComplete: 'street-address',\n        name: 'street-address'\n      },\n      value: '',\n      validation: {\n        required: true,\n        message: 'Enter shipping address.',\n      },\n      valid: false,\n      touched: false,\n    },\n    city: {\n      elementType: 'input',\n      labelEl: 'City',\n      additionalClass: 'input-field--half',\n      config: {\n        type: 'text',\n        autoComplete: 'address-level2',\n        name: 'address-level2'\n      },\n      value: '',\n      validation: {\n        required: true,\n        message: 'Enter city.',\n      },\n      valid: false,\n      touched: false,\n    },\n    postal: {\n      elementType: 'input',\n      labelEl: 'Postal code',\n      additionalClass: 'input-field--half',\n      config: {\n        type: 'text',\n        autoComplete: 'postal-code',\n        name: 'postal-code',\n        placeholder: '__-___'\n      },\n      value: '',\n      validation: {\n        required: true,\n        regex: 'postal',\n        maxLength: 6,\n        message: 'Enter postal code.',\n        tip: 'Example: 01-000',\n      },\n      valid: false,\n      touched: false,\n    },\n  }\n  const { cart, token, history, postError, onOrderPost } = props;\n\n  const [checkoutForm, setCheckoutForm] = useState(checkoutInitialState);\n  const [errorWithPost, setErrorWithPost] = useState(null);\n  const { formIsValid, inputChangedHandler } = useInputChanged();\n\n  useEffect(() => {\n    window.scroll({ top: 0, left: 0, behavior: 'smooth' });\n\n    if ( Object.getOwnPropertyNames(cart).length === 0 || token === null) {\n      history.push('/');\n    }\n  }, [cart, token, history]);\n\n  useEffect(() => {\n    if (formIsValid && postError !== null) {\n      setErrorWithPost(<p className=\"checkout-container__error\">Ouch! Something went wrong</p>);\n      window.scroll({ top: 0, left: 0, behavior: 'smooth' });\n    }\n  }, [formIsValid, postError]);\n\n  const inputHandler = (event, inputId) => {\n    const newVal = inputChangedHandler(checkoutForm, event, inputId);\n\n    setCheckoutForm(newVal);\n  }\n\n  const checkValidityOnSubmit = () => {\n    const inputs = {\n      ...checkoutForm\n    }\n\n    for (const single in inputs) {\n      const selected = inputs[single];\n      \n      if (selected.validation.required && !selected.touched) {\n        selected.touched = true;\n      }\n\n      inputs[single] = selected;\n    }\n\n    setCheckoutForm(inputs);\n  }\n\n  const formSubmitHandler = (event) => {\n    event.preventDefault();\n\n    checkValidityOnSubmit();\n\n    const token = props.token;\n    let formData = {};\n\n    for (const formEl in checkoutForm) {\n      formData[formEl] = checkoutForm[formEl].value;\n    }\n\n    const order = {\n      formData: formData,\n      cart: props.cart,\n      price: props.price,\n      date: new Date(),\n      userId: props.userId,\n    };\n\n    if (formIsValid) {\n      onOrderPost(order, token);\n    } else {\n      window.scroll({ top: 0, left: 0, behavior: 'smooth' });\n    }\n  };\n\n  const formElements = [];\n  for (const key in checkoutForm) {\n    formElements.push({\n      id: key,\n      options: checkoutForm[key],\n    });\n  }\n\n  return (\n    <div className=\"checkout-container\">\n      { errorWithPost }\n\n      <form\n        className=\"checkout-container__form\"\n        onSubmit={formSubmitHandler}\n      >\n\n        {formElements.map((input) => (\n          <InputField\n            key={input.id}\n            inputType={input.options.elementType}\n            labelEl={input.options.labelEl}\n            elementConfig={input.options.config}\n            additionalClass={input.options.additionalClass}\n            value={input.options.value}\n            valid={!input.options.valid}\n            touched={input.options.touched}\n            message={input.options.validation.message}\n            tip={input.options.validation.tip}\n            changed={(event) => inputHandler(event, input.id)}\n          />\n        ))}\n        <Button name=\"Order Now!\" types={['large', 'icon']} />\n      </form>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    cart: state.ic.cart,\n    price: state.ic.totalPrice,\n    token: state.auth.token,\n    userId: state.auth.userId,\n    postError: state.order.postError,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onOrderPost: (order, token) =>\n      dispatch(action.orderPost(order, token)),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CheckoutContainer));\n","import React, {Fragment, useCallback, useEffect, useState} from 'react';\nimport { connect } from 'react-redux';\nimport {Route, Switch} from 'react-router-dom';\nimport Boxes from '../../components/Boxes/Boxes';\nimport Summary from '../../components/Summary/Summary';\nimport CheckoutContainer from '../CheckoutContainer/CheckoutContainer';\n\nimport * as action from '../../store/actions/index';\n\nimport './ProductsContainer.scss';\n\nconst ProductsContainer = props => {\n  const [purchasable, setPurchasable] = useState(false);\n  const [isProductsPage, setIsProductsPage] = useState(true);\n  const {cart, token, history, onIcecreamInit, closeSummary} = props;\n\n  // update purchasable state\n  const updatePurchase = useCallback(() => {\n    let finalValue = 0;\n\n    for (const key in cart) {\n      const element = cart[key];\n\n      for (const value in cart[key]) {\n        const newValue = element[value];\n        finalValue += newValue;\n      }\n    }\n\n    setPurchasable(finalValue > 0);\n  }, [cart]);\n\n  useEffect(() => {\n    if (token) {\n      onIcecreamInit(token);\n    }\n\n    if (token === null) {\n      history.push('/auth');\n    }\n  }, [token, onIcecreamInit, history]);\n\n  useEffect(() => {\n      updatePurchase();\n  }, [updatePurchase]);\n\n  useEffect(() => {\n    closeSummary();\n  }, [history.location.pathname, closeSummary]);\n\n  useEffect(() => {\n    history.location.pathname === '/' ? setIsProductsPage(true) : setIsProductsPage(false);\n  }, [history.location.pathname])\n\n  return (\n      <Fragment>\n        <div className=\"products\">\n          <div className=\"products__inner\">\n            <div className=\"products__mask\"></div>\n            <div className=\"products__content\">\n              <Switch>\n                <Route\n                  exact\n                  path=\"/\"\n                  render={() => (\n                    <Boxes\n                      purchasable={purchasable}\n                      icecreams={props.icecreams}\n                      cart={props.cart}\n                      prices={props.prices}\n                      fetchError={props.fetchError}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/checkout\"\n                  render={() => (\n                    <CheckoutContainer\n                      purchasable={purchasable}\n                    />\n                  )}\n                />\n              </Switch>\n            </div>\n            <div className=\"products__summary\">\n              <Summary purchasable={purchasable} pagePath={isProductsPage} />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    icecreams: state.ic.icecreams,\n    cart: state.ic.cart,\n    token: state.auth.token,\n    prices: state.ic.prices,\n    fetchError: state.ic.fetchError,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onIcecreamInit: (token) => dispatch(action.icecreamInit(token)),\n    closeSummary: () => dispatch(action.closeSummary())\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductsContainer);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Thanks.scss';\n\nconst Thanks = props => {\n  return (\n    <div className=\"thanks\">\n      <h1 className=\"thanks__headline\">Thank you for order!</h1>\n      <p className=\"thanks__desc\">Your order will be shipped as fast as possible</p>\n\n      <div className=\"thanks__wrap\">\n        <Link to=\"/\" className=\"thanks__btn\">Go to Homepage</Link>\n      </div>\n    </div>\n  )\n}\n\nexport default Thanks\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport * as action from '../../store/actions/index';\nimport { Redirect } from 'react-router-dom';\nimport useInputChanged from '../../hooks/useInputChanged';\nimport InputField from '../../components/UI/InputField/InputField';\nimport Button from '../../components/UI/Button/Button';\nimport Loader from '../../components/UI/Loader/Loader';\nimport { showErrorMessage } from '../../shared/utility';\n\nimport './AuthContainer.scss';\nimport appLogo from \"../../assets/images/example-logo.png\";\n\nconst AuthContainer = props => {\n\n  const authInitialState = {\n    email: {\n      elementType: 'email',\n      labelEl: 'E-mail',\n      additionalClass: '',\n      config: {\n        type: 'email',\n        name: 'email'\n      },\n      value: '',\n      validation: {\n        required: true,\n        regex: 'email',\n      },\n      valid: false,\n      touched: false,\n    },\n    password: {\n      elementType: 'password',\n      labelEl: 'Password',\n      additionalClass: '',\n      config: {\n        type: 'password',\n        name: 'password'\n      },\n      value: '',\n      validation: {\n        required: true,\n        minLength: 6,\n      },\n      valid: false,\n      touched: false,\n    }\n  }\n\n  const [authForm, setAuthForm] = useState(authInitialState);\n  const [isSignIn, setIsSignIn] = useState(true);\n\n  const { formIsValid, inputChangedHandler } = useInputChanged();\n\n  const switchFormType = (event) => {\n    event.preventDefault();\n    setIsSignIn(!isSignIn);\n\n  }\n  const inputHandler = (event, inputId) => {\n    const newValue = inputChangedHandler(authForm, event, inputId);\n\n    setAuthForm(newValue);\n  }\n\n  const formSubmitHandler = (event) => {\n    event.preventDefault();\n\n    props.onAuth(\n      authForm.email.value,\n      authForm.password.value,\n      isSignIn\n    );\n  };\n\n  let formType = isSignIn ? 'Log in' : 'Sign Up';\n  let formElements = [];\n  let errorMessage = null;\n  let redirectAfterAuth;\n\n  for (const key in authForm) {\n    formElements.push({\n      id: key,\n      options: authForm[key],\n    });\n  }\n\n  let form = formElements.map((input) => (\n    <InputField\n      key={input.id}\n      inputType={input.options.elementType}\n      labelEl={input.options.labelEl}\n      elementConfig={input.options.config}\n      additionalClass={input.options.additionalClass}\n      value={input.options.value}\n      valid={!input.options.valid}\n      touched={input.options.touched}\n      message={input.options.validation.message}\n      tip={input.options.validation.tip}\n      changed={(event) => inputHandler(event, input.id)}\n    />\n  ));\n\n  if (props.loading) {\n    form = <Loader />\n  }\n\n  if (props.error) {\n    errorMessage = showErrorMessage(props.error.message);\n  }\n\n  if (props.isAuth) {\n    redirectAfterAuth = <Redirect to=\"/\" />\n  }\n\n  return (\n    <div className=\"auth\">\n      {redirectAfterAuth}\n\n      <div className=\"auth__header\">\n        <img src={ appLogo } alt=\"logo\" />\n      </div>\n\n      <div className=\"auth__inner\">\n        <h1 className=\"auth__title\">{formType}</h1>\n        {errorMessage && <p className=\"auth__message\">{errorMessage}</p>}\n\n        <form className=\"auth__form\" onSubmit={formSubmitHandler}>\n          {form}\n          { !props.loading && <Button name=\"Submit!\" disabled={!formIsValid} /> }\n        </form>\n      </div>\n\n      <div className=\"auth__footer\">\n        <span className=\"auth__switch\" onClick={switchFormType}>\n          Go to\n          {isSignIn ? ' Register' : ' Log In'}\n        </span>\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    isAuth: state.auth.token !== null\n  }\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onAuth: (email, pass, type) => dispatch(action.auth(email, pass, type)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthContainer);\n","import React from 'react'\nimport './OrderBox.scss';\n\nconst OrderBox = props => {\n  const { price, date, formData } = props.data;\n  const { firstName, secondName, address, city, email, phoneNumber, postal } = formData\n  const orderDateObject = new Date(date);\n  const correctDay = (\"0\" + orderDateObject.getDate()).slice(-2)\n  const correctMonth = (\"0\" + (orderDateObject.getMonth() + 1)).slice(-2)\n\n  const orderDate = `${correctDay}.${correctMonth}.${orderDateObject.getFullYear()} ${orderDateObject.getHours()}:${orderDateObject.getMinutes()}`\n\n  return (\n    <div className=\"s-order-box\">\n      <div className=\"s-order-box__date\">Order date: <span>{ orderDate }</span></div>\n      <div className=\"s-order-box__content\">\n        <p className=\"s-order-box__text\">Price: <span>{price}$</span></p>\n        <p className=\"s-order-box__text\">Name: <span>{`${firstName} ${secondName}`}</span></p>\n        <p className=\"s-order-box__text\">Address: <span>{`${address}, ${postal} ${city}`}</span></p>\n        <p className=\"s-order-box__text\">Email: <span>{ email }</span></p>\n        <p className=\"s-order-box__text\">Phone: <span>{ phoneNumber }</span></p>\n      </div>\n    </div>\n  );\n}\n\nexport default OrderBox;\n","import React, { useCallback, useEffect } from 'react'\nimport { connect } from 'react-redux';\nimport OrderBox from '../../components/Orders/OrderBox/OrderBox'\nimport Loader from '../../components/UI/Loader/Loader';\n\nimport * as action from '../../store/actions/index';\n\nimport './OrdersContainer.scss';\n\n// TODO: v2 - advanced sorting - price, date, status\nconst OrdersContainer = (props) => {\n  const {token, userId, onOrderGet, userOrders, loading} = props;\n  const ordersObject = Object.getOwnPropertyNames(userOrders);\n  let orders;\n\n  const getOrders = useCallback(() => {\n    onOrderGet(token, userId);\n  }, [token, userId, onOrderGet]);\n\n  useEffect(() => {\n    if (token !== null && userId !== null) {\n      getOrders();\n    }\n\n  }, [token, userId, getOrders]);\n\n  if (loading) {\n    orders = <Loader />\n  }\n\n  if (!loading && ordersObject.length >= 1) {\n    const userOrdersArray = Object.values(userOrders).map((item) => {\n      return item;\n    });\n\n    orders = userOrdersArray\n      .sort((a, b) => new Date(b.date) - new Date(a.date))\n      .map(single => {\n        return (\n          <OrderBox\n              key={single.date}\n              data={single}\n          />\n        )\n      })\n  }\n\n  if (!loading && ordersObject.length === 0) {\n    orders = <p>You do not have any order</p>\n  }\n\n  return (\n    <section className=\"orders\">\n      <div className=\"orders__header\">\n        <h1 className=\"orders__title\">Orders</h1>\n        <p className=\"orders__desc\">Hello, there are you orders</p>\n      </div>\n\n      <div className=\"orders__wrap\">{orders}</div>\n    </section>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.auth.token,\n    userId: state.auth.userId,\n    userOrders: state.order.userOrders,\n    loading: state.order.getLoading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onOrderGet: (token, userId) => dispatch(action.orderGet(token, userId))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OrdersContainer);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport * as action from '../../../store/actions/index';\n\nconst Logout = props => {\n  const { onLogout } = props;\n\n  useEffect(() => {\n    onLogout();\n  }, [onLogout]);\n\n    return <Redirect to=\"/\" />\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onLogout: () => dispatch(action.logout())\n  }\n}\nexport default connect(null, mapDispatchToProps)(Logout);\n","import React, {useEffect} from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport history from \"./history\";\n\nimport Layout from './components/Layout/Layout';\nimport ProductsContainer from './containers/ProductsContainer/ProductsContainer';\nimport Thanks from './components/Thanks/Thanks';\nimport AuthContainer from './containers/AuthContainer/AuthContainer';\nimport OrdersContainer from './containers/OrdersContainer/OrdersContainer';\nimport Logout from './containers/AuthContainer/Logout/Logout';\n\nimport * as action from './store/actions/index';\n\nimport '../src/styles/app.scss';\n\nconst App = props => {\n  const { token, checkAuth } = props;\n\n  useEffect(() => {\n    checkAuth();\n\n    if (token === null) {\n      history.push('/auth');\n    }\n  });\n  \n  return (\n    <div className=\"app-container\">\n      <Layout isAuth={token}>\n        <Switch>\n          <Route path=\"/thank-you\" component={Thanks} />\n          <Route path=\"/auth\" component={AuthContainer} />\n          <Route path=\"/orders\" component={OrdersContainer} />\n          <Route path=\"/logout\" component={Logout} />\n          <Route path=\"/\" component={ProductsContainer} />\n        </Switch>\n      </Layout>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.auth.token\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    checkAuth: () => dispatch(action.checkAuthOnStart())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\nimport { Router } from 'react-router-dom';\nimport history from './history';\n\n// reducers\nimport authReducer from './store/reducers/auth';\nimport icecreamsReducer from './store/reducers/icecreams';\nimport orderReducer from './store/reducers/order';\n// sagas\nimport { watchAuth, watchIcecreams, watchOrder } from './store/sagas';\n\n// components/containers\nimport App from './App';\n\n// styles\nimport './styles/reset.scss';\nimport './styles/reusable.scss';\nimport './styles/base.scss';\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst mainReducer = combineReducers({\n  auth: authReducer,\n  ic: icecreamsReducer,\n  order: orderReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  mainReducer,\n  composeEnhancers( applyMiddleware( sagaMiddleware ) )\n);\n\n// INIT REDUX-SAGA\nsagaMiddleware.run(watchAuth);\nsagaMiddleware.run(watchIcecreams);\nsagaMiddleware.run(watchOrder);\n\nconst appIndex = (\n  <Provider store={store}>\n    <Router history={history}>\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </Router>\n  </Provider>\n)\n\nReactDOM.render(appIndex, document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}